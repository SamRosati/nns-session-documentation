{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"NNS Session Case Study &amp; Documentation","text":""},{"location":"#overview","title":"Overview","text":"<p>NNS Session is a modern, progressive web application (PWA) designed to revolutionize the beach volleyball experience. Built for the vibrant Vancouver community and scalable globally, it unifies tournament management, player social networking, and coaching clinics into a single, cohesive platform. It solves the fragmentation of existing tools, offering organizers robust automation and players a premium, app-like experience directly in their browser.</p>"},{"location":"#the-challenge","title":"The Challenge","text":"<p>The beach volleyball community has long been underserved by technology.</p> <ul> <li>Operational Chaos: Organizers rely on a patchwork of spreadsheets, paper scoresheets, and Facebook groups to run events.</li> <li>Legacy Software: Existing platforms like SportLoMo are built for bureaucratic administration, suffering from poor UI/UX and a lack of mobile optimization.</li> <li>Fragmented Experience: Players have no central hub to track their stats, find partners, or discover training opportunities.</li> </ul> <p>The challenge was to build a solution that could handle the complex logic of tournament logistics (seeding, pool generation, tie-breakers) while providing a social, engaging user interface that players want to use.</p>"},{"location":"#my-solution","title":"My Solution","text":"<p>I architected NNS as a server-first, edge-ready PWA to deliver native-grade performance without the friction of app store downloads.</p> <ul> <li>Architecture: Leveraged Next.js 15 (App Router) for server-side rendering and Supabase for a scalable, type-safe backend (PostgreSQL + Auth).</li> <li>Automation Engine: Built a custom \"Tournament Wizard\" and \"Auto-Scheduler\" in TypeScript that reduces hours of manual seeding work into a few clicks.</li> <li>Unique Features:</li> <li>Glicko-2 Skill Ratings: A meritocratic system that automatically updates player ratings after every match.</li> <li>Live Brackets: Real-time score updates and bracket progression viewable on any device.</li> <li>Social Graph: A follow system that creates a personalized feed of friend activity and tournament results.</li> </ul>"},{"location":"#key-results","title":"Key Results","text":"<ul> <li>Shipped a Complete Ecosystem: Delivered a platform handling Tournaments, Clinics, and Social Networking.</li> <li>Complex Logic: Implemented the Glicko-2 rating algorithm and automated pool-to-bracket advancement logic.</li> <li>Modern UX: Achieved a 100/100 Lighthouse performance score using a refined Tailwind + Radix UI design system.</li> </ul>"},{"location":"#project-highlights","title":"Project Highlights","text":"<ul> <li> <p>Product Strategy: Focusing on the specific needs of the \"Tournament Organizer\" \"Athlete\" and \"Coach\" personas. See Market Analysis and User Personas.</p> </li> <li> <p>System Architecture: A scalable Next.js + Supabase stack deployed via Firebase App Hosting. Deep dive in High-Level Design.</p> </li> <li>Feature Development: Sophisticated modules including a Skill Rating System, Tournaments Engine, and Social System.</li> </ul>"},{"location":"#getting-started","title":"Getting Started","text":"<p>Explore the documentation to see how NNS captures the spirit of the game through code:</p> <ol> <li>Start with the Product Strategy to understand the \"Why\".</li> <li>Review the System Architecture for the \"How\".</li> <li>Check out the Feature Deep Dives for the implementation details.</li> </ol>"},{"location":"1_Project_Overview/1_1_Project_Proposal/","title":"1.1 Project Proposal","text":""},{"location":"1_Project_Overview/1_1_Project_Proposal/#problem-statement","title":"Problem Statement","text":"<p>In the beach volleyball community in Vancouver, there are several different organizations spanning from very casual (group chats with a few friends) to very formal (official provincial organization). The official organizations use legacy software for registrations for their tournaments, however the system has poor UI / UX design, and it doesn't solve any of the actual tournament-day automation.</p> <p>Although solving the registration aspect for tournaments is valuable, there is much more that can be done to make running tournaments less frustrating and free up time for organizers to focus on challenges that can't be automated. For example, automating the process of seeding players that register for a given tournament, creating the seeding round match ups, creating the playoff brackets, results tracking, and providing a way for players to move from one tournament to another with a standardized point collection system is something that existing solutions lack.</p>"},{"location":"1_Project_Overview/1_1_Project_Proposal/#proposed-solution","title":"Proposed Solution","text":"<p>The solution I want to create will be a software platform that organizes data in the volleyball community, and connects athletes with organizers and coaches. Initially, the main focus of the app will be to develop a tool for organizers that makes running tournaments much easier and saves organizers time. It will take care of registrations, pool creation, seeding game creation, provide a way for players to input scores on their phones so that organizers don't need to chase players around the beach after each game, create playoff brackets, and track the data associated with every player's wins and losses to provide statistics for each player.</p> <p>Once the tournament automation aspect of the platform is functional, reliable, and deemed useful by the community, further features will be developed to connect athletes with each other as well as with coaches. Statistics tracking for competitive players who want to carry their points between different tournament series and compete for semi-professional or professional-level tournament entries will be provided with a standardized point system which will allow them to be recognized by organizations such as VolleyballBC, or the FIVB.</p> <p>After a significant number of athletes are on the platform, features for coaches will be implemented in order to provide them with access to a user base of enthusiastic volleyball players. Coaches will be able to post training clinic events on the athletes feed, and run their coaching business through a dashboard viewable only by coach user accounts. Coaches will be able to be associated with organizations, or can run their business independently, earning ratings from athletes that have taken their clinics.</p>"},{"location":"1_Project_Overview/1_1_Project_Proposal/#7-usability-factors","title":"7 Usability Factors","text":"<p>Since I am creating something from scratch rather than redesigning an existing solution, I can evaluate the 7 usability factors of the current alternatives to the platform I want to create.</p> <p>SportLoMo is designed to manage sports, and it is what VolleyballBC currently uses to manage the leagues and tournaments that they run.</p> <ul> <li>Useful: SportLoMo is useful for registrations, but cannot handle the intricacies of the sport of volleyball because it is a sport management software for all sports, meaning it tries to do everything, and doesn\u2019t solve any one particular sport (like volleyball) to a sufficient enough degree.</li> <li>Usable: SportLoMo is usable, but the User Interface could be improved, especially for mobile.</li> <li>Findable: One of the frustrations with using SportLoMo is that searching for the league or tournament that you want to register for is very difficult. There is no search functionality, so you have to scroll through pages until you find what you want.</li> <li>Credible: SportLoMo has some credibility, since organizations like VolleyballBC use it, however I would not call it extremely credible, given its 3.5/5 star rating on google.   </li> <li>Accessible: I believe SportLoMo\u2019s accessibility could improve, although there is nothing inherently inaccessible.</li> <li>Valuable: The provides some value in that it takes care of registrations, however its attempt to solve all sports rather than just picking one that it serves well makes it less valuable than it could be in my eyes.</li> </ul>"},{"location":"1_Project_Overview/1_1_Project_Proposal/#market-research","title":"Market Research","text":"<p>I have selected SportLoMo (as the local incumbent used by VolleyballBC) and Volleyball Life (as the closest direct feature competitor for a modern beach volleyball platform)</p>"},{"location":"1_Project_Overview/1_1_Project_Proposal/#sportlomo","title":"SportLoMo","text":"<p>SportLoMo is a large, enterprise-grade sports management platform primarily designed for national and provincial governing bodies (like Volleyball Canada and Volleyball BC). It excels at \u201cofficial\u201d administration, handling complex membership tiers, insurance compliance, referee assigning, and linking provincial data to national databases. Because it is the \u201cofficial\u201d choice, its biggest strength is its ecosystem lock-in. If you want to play in a Volleyball BC tournament, you must use it, guaranteeing a user base.</p> <p>Its weaknesses however are significant, particularly in User Experience. Users frequently report that the interface is not intuitive, dated, and clunky. It feels more bureaucratic, rather than social. The mobile app has very low ratings due to bugs and poor usability. It is built as a database tool for administrators first and a players app second, meaning it lacks the social glue and easy discovery of events that an app like NNS Session could offer.</p>"},{"location":"1_Project_Overview/1_1_Project_Proposal/#volleyball-life","title":"Volleyball Life","text":"<p>Volleyball Life is likely the strongest functional competitor in the beach volleyball space. Unlike generic team apps, it is build specifically for beach volleyball culture. It\u2019s \u201cTruVolley\u201d rating system tracks individual player rankings, rather than just team wins, using a modified Glicko algorithm. It also leans heavily into the \u201dcareer\u201d aspect of the sport, offering robust recruiting tools for juniors to connect with college coaches and public player profiles that feel like a social media resume.</p> <p>The downside lie in its complexity and cost model. It pushes a premium subscription for advanced features like recruiting profiles and video highlights, which feel aggressive for casual adult players who just want to find a game. Additionally, while it is dominant in the US, it is not used in the Canadian social scene.</p>"},{"location":"1_Project_Overview/1_1_Project_Proposal/#takeaways","title":"Takeaways","text":"<p>After discovering Volleyball Life, I became worried. Discovering what this platform is advertized as being able to do is scary as someone who is trying to develop something very similar, and I did not think that there was already something like that our there.</p> <p>That being said, I have a pretty biased way of dealing with this problem, which is to continue building my idea for the following reasons:</p> <ul> <li> <p>Even if this is unsucessful from a business prospective, it will still be a very valuable portfolio piece.</p> </li> <li> <p>I believe that any product can be improved. If something already exists in the space I need to build, I just need to make my version better.</p> </li> </ul> <p>In order to address this problem and discover what the gaps are in the market for a volleyball software platform, I used an LLM to reference my codebase, and asked it this question.</p>"},{"location":"1_Project_Overview/1_2_Background_%26_Context/","title":"1.2 Background &amp; Context","text":""},{"location":"1_Project_Overview/1_2_Background_%26_Context/#origin-story","title":"Origin Story","text":"<p>In 2022, I moved to Vancouver and immediately fell in love with the vibrant beach volleyball community. As I spent more time on the sand, I became deeply involved, not just as a player but as a community builder. I started a brand and began hosting my own tournament series.</p> <p>Through this experience, I saw the community grow firsthand. Hosting tournaments and handing out merchandise as prizes helped foster a strong sense of connection and excitement. However, as the tournaments grew, so did the logistical challenges.</p>"},{"location":"1_Project_Overview/1_2_Background_%26_Context/#the-catalyst","title":"The Catalyst","text":"<p>I quickly realized that the operational side of beach volleyball was stuck in the past.</p> <ul> <li>Manual Processes: I found myself\u2014and other organizers\u2014relying on pen and paper or basic spreadsheets to manage tournaments.</li> <li>Legacy Software: The few existing software solutions used by leagues and organizations were outdated, with poor UI/UX.</li> <li>Inefficiencies: Essential tasks like registration, waitlist tracking, and scorekeeping were cumbersome and prone to error.</li> </ul> <p>It became clear that the volleyball community needed a modern software platform for effective data organization. But beyond just logistics, I saw a massive potential for a social platform to further grow the sport. There was a missing link that could connect athletes with coaches, organizers, and each other in a meaningful way.</p>"},{"location":"1_Project_Overview/1_2_Background_%26_Context/#the-vision","title":"The Vision","text":"<p>I decided to create NNS Session to bridge these gaps.</p>"},{"location":"1_Project_Overview/1_2_Background_%26_Context/#the-problem","title":"The Problem","text":"<p>Existing official organizations use legacy software that frustrates users with poor design and fails to address tournament-day automation. Organizers are bogged down by repetitive tasks that should be automated, such as:</p> <ul> <li>Seeding players and creating match-ups.</li> <li>Managing playoff brackets.</li> <li>Tracking results and compiling statistics.</li> <li>Enabling players to carry standardized points between different tournament series.</li> </ul>"},{"location":"1_Project_Overview/1_2_Background_%26_Context/#the-proposed-solution","title":"The Proposed Solution","text":"<p>NNS Session is a software platform designed to organize data for the volleyball community while connecting athletes, organizers, and coaches.</p> <p>Phase 1: Organizer Tools The initial focus is to build a robust tool that saves organizers time by automating:</p> <ul> <li>Registrations and pool creation.</li> <li>Seeding and playoff bracket generation.</li> <li>Mobile score entry for players (eliminating the need to chase down paper scoresheets).</li> <li>Data tracking for wins, losses, and player statistics.</li> </ul> <p>Phase 2: Athlete &amp; Coach Connection Once the core tournament automation is established, the platform will expand to:</p> <ul> <li>Connect athletes with each other and with coaches.</li> <li>Implement a standardized point system for competitive players aspiring to semi-pro or professional levels (FIVB, VolleyballBC).</li> <li>Provide coaches with a platform to post clinics, run their businesses, and earn verified ratings from athletes.</li> </ul>"},{"location":"1_Project_Overview/1_2_Background_%26_Context/#why-build-this","title":"Why Build This?","text":"<p>I chose to pursue this project because it perfectly intersects my passion for beach volleyball with my desire to solve real-world problems through software. I have felt the pain of manual tournament management firsthand, and I know that a well-designed, community-focused platform can revolutionize how the sport is organized and experienced in Vancouver and beyond.</p>"},{"location":"2_Product_Strategy_%26_Discovery/2_1_Market_Analysis/","title":"2.1 Market Analysis: NNS Session vs. The Competition","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_1_Market_Analysis/#executive-summary","title":"Executive Summary","text":"<p>The current landscape of volleyball software is bifurcated into two distinct categories: Formal Event Management (tournaments, leagues, recruiting) and Casual Social Utility (pickup games, community chats).</p> <p>NNS Session occupies a unique \"Blue Ocean\" by bridging these two worlds. It offers the rigorous tournament tools of a platform like Volleyball Life while providing the sticky, daily-engagement social features of apps like Instagram or Reclub. This \"Lifestyle + Utility\" model creates a continuous ecosystem where players move seamlessly from casual pickup games to competitive tournaments, all while tracking their stats and connecting with the community.</p>"},{"location":"2_Product_Strategy_%26_Discovery/2_1_Market_Analysis/#competitive-landscape-matrix","title":"Competitive Landscape Matrix","text":"Feature Category NNS Session Volleyball Life (VBL) SportLoMo / AES Reclub / Meetup Primary Focus Community, Lifestyle, &amp; Events Junior Recruiting &amp; Tournaments Governance &amp; Logistics Casual Group Management Tournament Mgmt \u2705 Full Suite (Brackets/Pools) \u2705 Advanced (Recruiting focus) \u2705 Enterprise (Mass scale) \u274c Basic / None Pickup / Drop-in \u2705 dedicated \"Session\" Tools \u274c None \u274c None \u2705 Core Feature Social Feed \u2705 Instagram-style Feed \u274c None \u274c None \u26a0\ufe0f Basic Activity Log Player Profile \u2705 Stats, Media, Rating, History \u2705 Recruitment Bio &amp; Academic \u274c Basic Registration Data \u274c Minimal Coach Discovery \u2705 Via Rating/Clinics System \u274c Focus on College Coaches \u274c None \u274c None Follow System \u2705 Peer-to-Peer (Social) \u26a0\ufe0f Parent/Recruiter Tracking \u274c None \u26a0\ufe0f Group Membership Target Audience Everyone (Pro to Beginner) Junior Athletes (Recruiting) NGBs (Volleyball BC/Canada) Casual Hobbyists"},{"location":"2_Product_Strategy_%26_Discovery/2_1_Market_Analysis/#deep-dive-volleyball-life-the-primary-competitor","title":"Deep Dive: Volleyball Life (The Primary Competitor)","text":"<p>Volleyball Life (VBL) is the strongest direct competitor in terms of feature set for events, but fundamentally differs in mission and user base.</p>"},{"location":"2_Product_Strategy_%26_Discovery/2_1_Market_Analysis/#what-vbl-does-well","title":"What VBL Does Well","text":"<ul> <li>College Recruiting: This is their \"moat.\" They excel at showcasing junior athletes to college scouts with features like \"Showcase Mode,\" academic transcript uploads, and expensive \"VBL+\" subscriptions for visibility.</li> <li>Formal Event Logistics: They handle large-scale qualifiers well, integrated with specific rating systems (TruVolley).</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_1_Market_Analysis/#what-vbl-misses-the-nns-opportunity","title":"What VBL Misses (The NNS Opportunity)","text":"<ul> <li>The \"99%\" Player: VBL ignores adult adult rec players, semi-pros, and casual beach enthusiasts who aren't trying to get recruited to the NCAA. NNS Session is built for this majority.</li> <li> <p>Social Stickiness: VBL is a \"utility\" app\u2014you check it during a tournament and close it. NNS Session is a \"lifestyle\" app\u2014you open it on Tuesday to find a pickup game, on Wednesday to post a highlight, and on Friday to check your friend's clinic rating.</p> </li> <li> <p>Pickup Culture: VBL has no concept of \"I have a net and ball, who wants to play?\" NNS Session facilitates decentralized, user-generated meets.</p> </li> <li>Coach Discovery for Amateurs: VBL connects college coaches to kids. NNS Session connects local coaches to adult learners via a transparent rating and review system.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_1_Market_Analysis/#why-organizations-like-volleyball-bc-dont-use-vbl","title":"Why Organizations (like Volleyball BC) Don't Use VBL","text":"<p>You noticed platforms like Volleyball BC use systems like SportLoMo instead. Here's why:</p> <ol> <li>Governance vs. Promotion: VBL is a commercial promoter's tool. SportLoMo is a Governance Risk and Compliance (GRC) tool. It handles insurance, national membership fees, background checks, and license enforcement across different levels (Club -&gt; Province -&gt; National).</li> <li>Data Sovereignty: National Governing Bodies (NGBs) need strict control over member data for funding and legal reasons. VBL's model relies on monetizing that data (selling subscriptions).</li> <li>Cost Structure: VBL likely charges per-event or per-transaction percentages that don't scale for non-profits running thousands of small events. SportLoMo serves as a flat-fee or enterprise licensed \"operating system\" for the association.</li> </ol>"},{"location":"2_Product_Strategy_%26_Discovery/2_1_Market_Analysis/#nns-session-the-unique-value-proposition","title":"NNS Session: The Unique Value Proposition","text":"<p>NNS Session differentiates itself through four key pillars that no single competitor replicates.</p>"},{"location":"2_Product_Strategy_%26_Discovery/2_1_Market_Analysis/#a-the-instagram-of-volleyball-social-feed","title":"A. The \"Instagram\" of Volleyball (Social Feed)","text":"<ul> <li>Competitors: Apps like VBL are static databases.</li> <li>NNS Session: Implementing a dynamic feed where tournament results, match highlights, and \"Session\" invites appear natively creates daily active users. Players don't just log in to register; they log in to see what their friends are doing.</li> <li>Follow System: This isn't just \"tracking a bracket.\" It's following a person. When a user you follow registers for a clinic or posts a video, you see it. This drives organic growth (FOMO).</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_1_Market_Analysis/#b-decentralized-sessions-pickup-management","title":"B. Decentralized \"Sessions\" (Pickup Management)","text":"<ul> <li>Competitors: Reclub/Meetup are too generic (no concept of \"King of the Beach\" formatting or specific skill levels).</li> <li>NNS Session: Allows any user to be an organizer.</li> <li>Scenario: Only need 1 sub for a furious fours game? NNS allows targeted invites based on rating.</li> <li>Stats: Pickup games in NNS count towards your history (if verified), giving meaning to \"casual\" play.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_1_Market_Analysis/#c-the-verified-rating-loop-coach-discovery","title":"C. The \"Verified\" Rating Loop (Coach Discovery)","text":"<ul> <li>Competitors: Ratings are either top-down (assigned by admin) or meaningless (self-assigned).</li> <li>NNS Session:</li> <li>Coaches run Clinics.</li> <li>Players attend clinics -&gt; Coaches assess skills -&gt; Players get Verified Ratings.</li> <li>Players use Verified Ratings to enter restricted tournaments/games.</li> <li>Result: Coaches get exposure/clients because players need them to rank up. This creates a monetization engine for coaches that VBL lacks entirely.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_1_Market_Analysis/#d-advanced-stats-for-the-amateur","title":"D. Advanced Stats for the Amateur","text":"<ul> <li>Competitors: Stats are usually just \"Win/Loss.\"</li> <li>NNS Session: Tracks point differentials, head-to-head records across years, and \"Form\" (last 5 games). This gamifies the amateur experience, making a Tuesday night league feel like the Pro Tour.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_1_Market_Analysis/#summary-of-the-gap","title":"Summary of the Gap","text":"<p>Volleyball Life is a tool for Parents and Recruiters to manage careers. SportLoMo is a tool for Bureaucracies to manage liabilities. NNS Session is a tool for Volleyball Players to manage their passion.</p> <p>By focusing on the social fabric of the sport\u2014who played with whom, who won, and where the next game is\u2014NNS Session captures the daily engagement that purely competitive or purely administrative platforms miss.</p>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/","title":"User Personas","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#quick-navigation","title":"Quick Navigation","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#players","title":"Players","text":"<ul> <li>The Casual Social Player \u2014 Sophie Smith</li> <li>The Semi-Pro Athlete \u2014 Tyler Kowalski</li> <li>The Professional Athlete \u2014 Melissa Humana-Peredes</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#organizers","title":"Organizers","text":"<ul> <li>Casual Organizer \u2014 Chris Lee</li> <li>The Semi-Pro Organizer \u2014 Marcus Zhao</li> <li>The World Tour Director (Pro Organizer) \u2014 Dan Reynolds</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#coaches","title":"Coaches","text":"<ul> <li>The Independent Coach \u2014 Kelly Johnson</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#the-casual-social-player","title":"The Casual Social Player","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#profile","title":"Profile","text":"<ul> <li>Name: Sophie Smith</li> <li>Age: 26</li> <li>Occupation: Marketing Coordinator</li> <li>Location: Kitsilano, Vancouver</li> <li>Tech Proficiency: High (Daily user of Instagram, TikTok, Hinge)</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#empathy-map","title":"Empathy Map","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#characteristics","title":"Characteristics","text":"<p>Sophie plays volleyball for the \"vibes\" first and the sport second. She loves the beach culture\u2014music, sunsets, and post-game drinks. She is decent enough to keep a rally going (B-level), but she's terrified of \"hardcore\" intense games where people yell about rules. She wants to be included but often feels awkward asking to join strangers.</p>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#behaviors","title":"Behaviors","text":"<ul> <li>FOMO-driven: Checks Instagram stories constantly to see where her friends are.</li> <li>Visual: Likes seeing photos of who played and who won, even if she wasn't there.</li> <li>Notification-Sensitive: Will turn off notifications if an app spams her, but wants instant alerts if invited to a game.</li> <li>Non-Confrontational: Hates handling cash or asking friends to Venmo her for court fees.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#goals","title":"Goals","text":"<ol> <li>Social Connection: Wants to meet new people and hang out with her current friends in a fun setting.</li> <li>Low Friction Play: Wants to find a game on a Tuesday evening without sending 50 texts.</li> <li>Validation: Enjoys seeing her \"stats\" go up (games played) even if she doesn't care about a Glicko rating. Wants to be tagged in photos.</li> </ol>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#pain-points","title":"Pain Points","text":"<ul> <li>The \"Group Chat\" Mess: Trying to coordinate 4 people via iMessage is a nightmare of \"I can't make it\" and silence.</li> <li>Skill Gap Anxiety: Showing up to a \"pickup game\" and realizing everyone is AA level and she's out of her depth.</li> <li>Exclusion: Seeing a group playing at the beach and wishing she knew them well enough to jump in.</li> <li>Handling Money: Hate owing people $5 for court rentals or forgetting to bring cash.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#why-nns-session","title":"Why NNS Session?","text":"<ul> <li>The \"Feed\": Sees her friends played a game yesterday. FOMO drives her to open the app.</li> <li>\"Sessions\" Feature: Can see exactly who is attending a pickup game and their \"vibe\" (rating) before she commits, reducing anxiety.</li> <li>Follow System: Follows the \"cool\" organizers so she never misses a fun sunset session invite.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#the-semi-pro-athlete","title":"The Semi-Pro Athlete","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#profile_1","title":"Profile","text":"<ul> <li>Name: Tyler Kowalski</li> <li>Age: 23</li> <li>Occupation: Personal Trainer / Student</li> <li>Location: Santa Monica, CA (or serious Vancouver scene)</li> <li>Tech Proficiency: Moderate. Uses apps for utility (workouts, nutrition, scheduling).</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#empathy-map_1","title":"Empathy Map","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#characteristics_1","title":"Characteristics","text":"<p>Tyler is hungry. He believes he has what it takes to go pro (AVP/FIVB) but is currently stuck in the \"King of the Beach\" grind. He treats every match like a job interview. He is obsessed with data\u2014win rates, point differentials, and who beat whom. He gets frustrated when \"casuals\" ruin the quality of a practice session.</p>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#behaviors_1","title":"Behaviors","text":"<ul> <li>Competitive: Will argue a call if it matters for the score.</li> <li>Networker: Always looking for a better partner (the \"ladder\" mentality).</li> <li>Analytical: Checks his rating daily. Wants to know why it went down.</li> <li>Hustler: Plays in 3 different tournaments a weekend if he can afford it.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#goals_1","title":"Goals","text":"<ol> <li>Visibility: Wants higher-rated players and organizers to know his name.</li> <li>Skill Quantification: Needs a \"Verified Rating\" to prove to a potential A-level partner that he is worthy.</li> <li>Progression: Wants a clear path: \"If I win this tournament, I qualify for the Pro division.\"</li> </ol>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#pain-points_1","title":"Pain Points","text":"<ul> <li>Rating Stagnation: Using systems that don't differentiate between beating a novice 21-0 and beating a pro 21-19.</li> <li>Partner Flakiness: Having a partner drop out last minute without a replacement of equal skill.</li> <li> <p>Platform Fragmentation: Having stats scattered across spreadsheet A, website B, and a notebook.</p> </li> <li> <p>Unverified Coaching: Paying for a clinic and realizing the coach knows less than he does.</p> </li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#why-nns-session_1","title":"Why NNS Session?","text":"<ul> <li>Elo/Glicko System: Loves that NNS tracks point differential and strength of schedule. His rating feels earned.</li> <li>Partner Finder: Uses the app to scout partners by filtering for \"Rating &gt; 1800\".</li> <li>Verified Results: Likes that match results are \"official\" and build his permanent record (resume).</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#the-professional-athlete","title":"The Professional Athlete","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#profile_2","title":"Profile","text":"<ul> <li>Name: Melissa Humana-Peredes</li> <li>Age: 31</li> <li>Occupation: Professional Athlete</li> <li>Location: International Circuit</li> <li>Tech Proficiency: Functional. Uses social media for brand building, not just fun.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#empathy-map_2","title":"Empathy Map","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#characteristics_2","title":"Characteristics","text":"<p>Melissa is the pinnacle. She doesn't need to \"find\" games; games happen around her. Her time is her most valuable asset. She cares about efficiency and brand. She is often mobbed by fans or lower-level players wanting advice. She needs boundaries but also wants to give back (and monetize her expertise).</p>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#behaviors_2","title":"Behaviors","text":"<ul> <li>Brand Conscious: Everything she posts is curated.</li> <li>Mentor Figure: Occasionally runs high-level clinics to supplement income.</li> <li>Exclusive: Only plays with other pros to maintain top form.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#goals_2","title":"Goals","text":"<ol> <li>Monetization: Easy way to fill spots in her exclusive \"Pro Clinics\" without handling admin work.</li> <li>Fan Engagement: Wants to interact with the local community without giving out her phone number.</li> <li>Legacy: Wants her tournament wins recorded in history.</li> </ol>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#pain-points_2","title":"Pain Points","text":"<ul> <li>Admin Overload: Managing 20 DMs asking \"Can you coach me?\"</li> <li>Privacy: Doesn't want randos knowing exactly where she trains every day (needs \"Private Sessions\").</li> <li>Data Accuracy: Hates when tournament organizers spell her name wrong or lose the bracket data.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#why-nns-session_2","title":"Why NNS Session?","text":"<ul> <li>Pro Organizer Tools: She can host a \"Pro Clinic\" on NNS, set a price, and let the app handle signups/payments.</li> <li>Verification Authority: She can be a \"Super User\" who grants verified ratings to others, cementing her status as an expert.</li> <li>Privacy Controls: Can create \"Invite Only\" sessions for her pro training group that don't appear on the public feed.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#casual-organizer","title":"Casual Organizer","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#profile_3","title":"Profile","text":"<ul> <li>Name: Chris Lee</li> <li>Age: 29</li> <li>Occupation: Software Engineer</li> <li>Location: Kitsilano, Vancouver</li> <li>Tech Proficiency: High. Expects software to be intuitive and bug-free.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#empathy-map_3","title":"Empathy Map","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#characteristics_3","title":"Characteristics","text":"<p>Chris loves volleyball and wants to build a community. He organizes the \"Sunday Funday\" tournament series. It's a passion project, but he hates losing money on it. He does this on evenings and weekends, so he has zero tolerance for manual data entry or time-wasting tasks.</p>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#behaviors_3","title":"Behaviors","text":"<ul> <li>Spreadsheet Warrior: Currently runs everything on Google Sheets because other apps are too expensive or clunky.</li> <li>Community Leader: Everyone knows him; he's the \"guy with the clipboard.\"</li> <li>Stressed: Worries about rain, no-shows, and chargebacks.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#goals_3","title":"Goals","text":"<ol> <li>Break Even / Small Profit: Wants to cover permit costs and buy a few beers without going into debt.</li> <li>Efficiency: Wants a \"one-click\" bracket generator.</li> <li>Good Vibes: Wants players to be happy and know where to go without asking him 100 times.</li> </ol>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#pain-points_3","title":"Pain Points","text":"<ul> <li>Chasing Payments: \"I'll e-transfer you later\" is his trigger phrase.</li> <li>No-Shows: People signing up and not coming ruin the bracket.</li> <li>Communication: sending emails, text blasts, and FB posts to update a start time.</li> <li>Seeding Nightmares: Spending Friday night manually ranking 32 teams based on hearsay.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#why-nns-session_3","title":"Why NNS Session?","text":"<ul> <li>Stripe Integration: Players must pay to register. No cash, no IOUs.</li> <li>Automated Seeding: NNS uses the Glicko ratings to seed the bracket automatically. Chris gets his Friday night back.</li> <li>Push Notifications: One button to notify all 64 players \"Rain delay - 30 mins.\"</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#the-semi-pro-organizer","title":"The Semi-Pro Organizer","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#profile_4","title":"Profile","text":"<ul> <li>Name: Marcus Zhao</li> <li>Age: 34</li> <li>Occupation: Entrepreneur / League Owner</li> <li>Location: Regional Hub (e.g., Seattle, Denver)</li> <li>Tech Proficiency: High. Uses CRMs, Mailchimp, and spreadsheets aggressively.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#empathy-map_4","title":"Empathy Map","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#characteristics_4","title":"Characteristics","text":"<p>Marcus isn't just running a tournament; he's building a brand. He wants his local league to be the \"premier\" place to play in the city. He is ambitious and competitive with other local leagues. He cares deeply about \"production value\"\u2014music, tents, prizes, and social media presence. He is transitioning from \"side gig\" to \"full-time business.\"</p>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#behaviors_4","title":"Behaviors","text":"<ul> <li>Community Builder: Actively recruits sponsors (local breweries, physio clinics).</li> <li>Data Driven: Wants to know retention rates. \"Why didn't Sarah sign up this month?\"</li> <li>Content Creator: Hired a photographer for the finals. Posts highlight reels.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#goals_4","title":"Goals","text":"<ol> <li>Growth: Scale from 20 teams to 50 teams per weekend.</li> <li>Monetization: Move beyond just entry fees\u2014wants to sell merch, sponsorships, and memberships.</li> <li>Legitimacy: Wants his events to feel professional, even if the players are local amateurs.</li> </ol>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#pain-points_4","title":"Pain Points","text":"<ul> <li>Fragmentation: Managing registrations on one site, payments on Venmo, and brackets on paper is unscalable.</li> <li>Checkout Friction: Every step a player has to take to register is a chance for them to bail. Needs a sleek checkout.</li> <li>Sponsor Reporting: Cannot prove to the local brewery that their $500 sponsorship got any eyeballs.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#why-nns-session_4","title":"Why NNS Session?","text":"<ul> <li>Organization Pages: Loves that NNS lets him have a \"Company Page\" where players can follow his brand specifically.</li> <li>The \"Feed\" as Marketing: When a player gets a verified result from his tournament, it shows up in their feed, advertising Marcus's league to all their friends. Free viral marketing.</li> <li>Sponsor Integration: Can put sponsor logos on the digital leaderboard that every player checks 50 times a day.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#the-world-tour-director-pro-organizer","title":"The World Tour Director (Pro Organizer)","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#profile_5","title":"Profile","text":"<ul> <li>Name: Dan Reynolds</li> <li>Age: 45</li> <li>Occupation: International Event Director (FIVB / AVP)</li> <li>Location: Global (Gstaad, Rio, Doha)</li> <li>Tech Proficiency: Low to Moderate. Relies on staff. \"It just needs to work on TV.\"</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#empathy-map_5","title":"Empathy Map","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#characteristics_5","title":"Characteristics","text":"<p>Dan operates at the highest level. We are talking stadiums, TV broadcast rights, and Olympic qualification points. Scale is massive. His \"customers\" are not just players, but the International Federation, TV networks, and massive corporate sponsors. He cannot afford a single glitch. Authenticity and formality are paramount.</p>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#behaviors_5","title":"Behaviors","text":"<ul> <li>Risk Averse: An app crash isn't an inconvenience; it's a breach of contract with ESPN/NBC.</li> <li>Delegator: Manages a staff of 50+. Needs tools that restrict what the \"intern\" can delete.</li> <li>Formalist: Needs adherence to strict international rulebooks (FIVB Technical Regulations).</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#goals_5","title":"Goals","text":"<ol> <li>Broadcast Reliability: The live score on the app must match the TV broadcast instantly.</li> <li>Data Sovereignty: Needs raw data export for official federation records (Olympic points).</li> <li>Tiered Access: Needs specific views for \"Referees,\" \"Press,\" \"VIPs,\" and \"Medical Staff.\"</li> </ol>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#pain-points_5","title":"Pain Points","text":"<ul> <li>Connectivity at Scale: 5,000 fans in a stadium crush the cell towers. How do we keep the scores updated?</li> <li>Complex Formats: Pool play into Modified Double Elimination with Country Quota limits. Most apps can't handle the logic.</li> <li>Liability: Needs ironclad waivers and medical tracking integration.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#why-nns-session_5","title":"Why NNS Session?","text":"<ul> <li>Offline-First Architecture: The dedicated \"Ref Pad\" mode works on a tablet with zero internet, syncing only when connection is restored. Critical for stadium reliability.</li> <li>Advanced Rules Engine: Configurable to handle complex FIVB \"Lucky Loser\" brackets and Country Quota restrictions.</li> <li>API Access: Can pipe real-time scoring data directly to the TV broadcast truck overlay system.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#the-independent-coach","title":"The Independent Coach","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#profile_6","title":"Profile","text":"<ul> <li>Name: Kelly Johnson</li> <li>Age: 28</li> <li>Occupation: Volleyball Coach / Part-time Server</li> <li>Location: Urban Beach Hub (e.g., Toronto, Chicago)</li> <li>Tech Proficiency: Moderate. Living on phone managing clients.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#empathy-map_6","title":"Empathy Map","text":""},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#characteristics_6","title":"Characteristics","text":"<p>Kelly is a former university player who loves teaching. She has a high volleyball IQ but struggles with the \"business\" side of coaching. She relies on word-of-mouth. She wants to be taken seriously as a professional service provider, not just \"someone with a ball bag.\"</p>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#behaviors_6","title":"Behaviors","text":"<ul> <li>Patient Teacher: Loves seeing players have \"aha\" moments.</li> <li>Hustler: Running 3 clinics a day on weekends to make rent.</li> <li>Reputation Guardian: Her name is her brand. Bad reviews (or no reviews) kill her business.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#goals_6","title":"Goals","text":"<ol> <li>Fill Capacity: An empty spot in a clinic is lost revenue that can never be recovered.</li> <li>Credibility: Wants to prove her students get better (data-backed coaching).</li> <li>Streamlined Admin: Hates text threads: \"Are you coming at 4 or 5?\", \"Can I pay cash?\".</li> </ol>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#pain-points_6","title":"Pain Points","text":"<ul> <li>Discovery: How do new players find her? Instagram algorithm is fickle.</li> <li>Skill Mismatches: Students signing up for \"Advanced\" classes when they are Beginners, ruining the flow.</li> <li>Feedback Loop: Hard to give written feedback to 12 students after a session.</li> </ul>"},{"location":"2_Product_Strategy_%26_Discovery/2_2_User_Personas/#why-nns-session_6","title":"Why NNS Session?","text":"<ul> <li>The \"Rating Loop\": She can exclusively market \"Rated Clinics\"\u2014if you take her class, you get an official NNS rating. This is a huge hook for players.</li> <li>Rating Gating: She can set her \"Advanced Spiking\" clinic to require an NNS rating of 2500+, ensuring high-quality reps.</li> <li>Business in a Box: Payments, liability waivers, and roster management are all handled in the specific \"Clinic\" session type.</li> </ul>"},{"location":"3_System_Architecture/3_1_High-Level_Design/","title":"3.1 High-Level Design","text":""},{"location":"3_System_Architecture/3_1_High-Level_Design/#executive-summary","title":"Executive Summary","text":"<p>The NNS Session (NNS) is a progressive web application (PWA) designed to modernize the management of beach volleyball communities. It addresses the fragmentation of current solutions by unifying tournament organization, clinic management, pickup sessions, and social interaction into a single, cohesive platform. The system is built on a robust, modern technology stack leveraging Next.js for the application framework, Supabase for backend services (Authentication, Database), and Firebase App Hosting for scalable deployment.</p> <p>This document outlines the high-level architecture of the NNS platform, detailing the core components, data flow, and design principles that ensure scalability, maintainability, and a premium user experience.</p>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#architecture-principles","title":"Architecture Principles","text":"<p>The architecture of NNS is guided by the following core principles:</p> <ol> <li>Server-First rendering (RSC): Leveraging React Server Components (RSC) to minimize Client-Side JavaScript, improve SEO, and ensure fast initial page loads.</li> <li>Edge-Ready Performance: Utilizing edge networking for low-latency content delivery and API responses.</li> <li>Type Safety: End-to-end type safety using TypeScript, from the database schema (via Supabase) to the API layer and frontend components.</li> <li>Component-Based UI: A modular design system built on atomic design principles using Tailwind CSS and Radix UI primitives.</li> <li>Offline Capability: Progressive Web App (PWA) architecture to support offline access and native-like installation on mobile devices.</li> </ol>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#technology-stack","title":"Technology Stack","text":""},{"location":"3_System_Architecture/3_1_High-Level_Design/#frontend-layer","title":"Frontend Layer","text":"<ul> <li>Framework: Next.js 15 (App Router) - Provides the backbone for routing, server-side rendering, and API handling.</li> <li>Language: TypeScript - Ensures type safety and developer productivity.</li> <li>State Management:</li> <li>Server State: TanStack Query (React Query) - Manages data fetching, caching, synchronization, and server state updates.</li> <li>Client State: Zustand - Handles complex client-side state for interactive features like the Tournament Wizard and 3D Configurator (if applicable).</li> <li>Styling: Tailwind CSS v4 - A utility-first CSS framework for rapid UI development.</li> <li>UI Primitives: Radix UI - Unstyled, accessible UI components for building high-quality design systems (Dialogs, Popovers, Accordions).</li> <li>Animations: Tailwind CSS Animate &amp; Framer Motion (as needed) for micro-interactions.</li> <li>Forms: React Hook Form + Zod - Robust form handling and schema validation.</li> </ul>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#backend-services","title":"Backend Services","text":"<ul> <li>Database: PostgreSQL (via Supabase) - The primary relational database store.</li> <li>Authentication: Supabase Auth - Handles user registration, login (Email/Password, OAuth providers like Google/Apple), and session management.</li> <li>Real-time: Supabase Realtime - Enables live updates for tournament scores, messaging, and notifications.</li> <li>Storage: Firebase Storage / Supabase Storage - For storing user uploads (profile pictures, tournament media). Note: Configuration references Firebase Storage buckets.</li> <li>Payments: Stripe Connect - Handles payment processing for tournament registrations and payout management for organizers.</li> </ul>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#infrastructure-deployment","title":"Infrastructure &amp; Deployment","text":"<ul> <li>Hosting: Firebase App Hosting - A serverless hosting platform optimized for Next.js, providing automatic scaling and global CDN distribution.</li> <li>CDN: Google Cloud CDN (via Firebase) - Caches static assets and ISR pages at the edge.</li> <li>Environment: Node.js 20 Runtime.</li> </ul>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#system-components-diagram","title":"System Components Diagram","text":"<pre><code>graph TD\n    Client[Client Device\\n(Browser/PWA)] --&gt;|HTTPS/WSS| CDN[Firebase CDN]\n    CDN --&gt;|Static Assets| Client\n    CDN --&gt;|Dynamic Requests| AppServer[Next.js App Server\\n(Firebase App Hosting)]\n\n    subgraph \"Backend Services\"\n        AppServer --&gt;|Auth/Data| Supabase[Supabase Platform\\n(PostgreSQL + Auth)]\n        AppServer --&gt;|Payments| Stripe[Stripe API]\n        AppServer --&gt;|Media| Storage[Firebase/Supabase Storage]\n    end\n\n    subgraph \"Database Layer\"\n        Supabase --&gt;|Read/Write| DB[(PostgreSQL Database)]\n        Supabase --&gt;|Events| Realtime[Realtime Engine]\n    end\n\n    Realtime -.-&gt;|Live Updates| Client\n    Stripe -.-&gt;|Webhooks| AppServer\n</code></pre>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#core-modules","title":"Core Modules","text":""},{"location":"3_System_Architecture/3_1_High-Level_Design/#tournament-engine","title":"Tournament Engine","text":"<p>The heart of the platform, the Tournament Engine manages the lifecycle of competitive events.</p> <ul> <li>Responsibility: Creation, scheduling, registration, bracket generation, scoring, and results.</li> <li>Key Components: <code>TournamentWizard</code>, <code>BracketViewer</code>, <code>ScoreEntry</code>, <code>Scheduler</code>.</li> <li>Logic: Complex logic resides in <code>src/lib/tournament-logic.ts</code> and <code>src/lib/scheduler.ts</code> to handle seeding, pool assignment, and playoff advancement.</li> </ul>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#user-profile-system","title":"User &amp; Profile System","text":"<p>Manages user identity, roles, and progression.</p> <ul> <li>Responsibility: Profiles, stats tracking, skill ratings, and role management (organizer, coach, admin).</li> <li>Key Components: <code>ProfileDashboard</code>, <code>StatsCard</code>, <code>RankHistory</code>.</li> <li>Logic: <code>src/lib/types.ts</code> defines the <code>UserProfile</code> schema, including the shadow rating system based on Glicko-2.</li> </ul>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#social-graph","title":"Social Graph","text":"<p>Facilitates connection and community building.</p> <ul> <li>Responsibility: Following users, messaging, activity feeds, and notifications.</li> <li>Key Components: <code>FollowButton</code>, <code>ChatWindow</code>, <code>ActivityFeed</code>.</li> <li>Logic: <code>src/hooks/use-relationships.ts</code> and <code>src/hooks/use-inbox.ts</code> manage social interactions.</li> </ul>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#clinic-session-management","title":"Clinic &amp; Session Management","text":"<p>Tools for coaching and casual play.</p> <ul> <li>Responsibility: Creating and registering for clinics and open pickup sessions.</li> <li>Key Components: <code>ClinicCard</code>, <code>SessionList</code>, <code>RegistrationModal</code>.</li> <li>Logic: State management via <code>ClinicsContext</code> and <code>SessionsContext</code>.</li> </ul>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#data-flow-architecture","title":"Data Flow Architecture","text":""},{"location":"3_System_Architecture/3_1_High-Level_Design/#server-side-data-fetching","title":"Server-Side Data Fetching","text":"<p>In the App Router, data fetching is primarily performed on the server.</p> <ol> <li>Request: User navigates to a page (e.g., <code>/tournaments</code>).</li> <li>Server Component: The page component (<code>page.tsx</code>) requests data directly from Supabase/DB using helper functions or direct queries.</li> <li>Rendering: Next.js renders the component tree with the fetched data into HTML/RSC payload.</li> <li>Response: The client receives the pre-rendered HTML for fast First Contentful Paint (FCP).</li> </ol>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#client-side-interactivity-updates","title":"Client-Side Interactivity &amp; Updates","text":"<p>For interactive features and updates:</p> <ol> <li>Interaction: User clicks \"Register\" or updates a score.</li> <li>Server Action: A Server Action (<code>src/actions/*</code>) is invoked.</li> <li>Mutation: The action validates input (Zod) and updates the database via Supabase.</li> <li>Revalidation: The action calls <code>revalidatePath</code> to refresh the cached data.</li> <li>UI Update: The client UI updates automatically to reflect the new state without a full page reload.</li> </ol>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#real-time-updates","title":"Real-time Updates","text":"<p>For critical live features like Tournament Scores:</p> <ol> <li>Subscription: Client components subscribe to Supabase Realtime channels (e.g., <code>matches</code> table changes).</li> <li>Event: When a score is updated in the DB, Supabase broadcasts an event.</li> <li>Update: The client subscription handler receives the delta and updates the local React Query cache or Zustand store, triggering an immediate UI re-render.</li> </ol>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#security-privacy","title":"Security &amp; Privacy","text":"<ul> <li>Authentication: Secure session management via Supabase Auth.</li> <li>Authorization: Row Level Security (RLS) policies in PostgreSQL ensure users can only access data they are permitted to see.</li> <li>Data Validation: Strict input validation using Zod schemas on both client and server to prevent injection attacks and ensure data integrity.</li> <li>Payment Security: All payment processing is offloaded to Stripe; no sensitive card data is stored on NNS servers.</li> </ul>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#performance-optimization-strategy","title":"Performance Optimization Strategy","text":"<ol> <li>Route Groups &amp; Layouts: Efficiently organizing routes to minimize re-rendering of shared layouts.</li> <li>Image Optimization: Using <code>next/image</code> for automatic resizing, lazy loading, and format conversion (WebP/AVIF).</li> <li>Code Splitting: Automatic splitting of JavaScript bundles by route to reduce initial load size.</li> <li>Dynamic Imports: Lazily loading heavy components (e.g., Charts, Maps) only when they are needed.</li> <li>Prefetching: Next.js <code>Link</code> component prefetches viewport routes for near-instant navigation.</li> </ol>"},{"location":"3_System_Architecture/3_1_High-Level_Design/#future-considerations","title":"Future Considerations","text":"<ul> <li>Native Mobile Apps: Leveraging Capacitor to wrap the PWA for deployment to iOS App Store and Google Play Store.</li> <li>AI Integration: Planned integration of AI for automated tournament scheduling, skill assessment analysis, and personalized coaching tips (see details in AI Strategy doc).</li> <li>Advanced Analytics: Integration of a dedicated analytics platform for deeper user behavior insights.</li> </ul>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/","title":"3.2 Codebase Structure &amp; Optimization","text":""},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#1-directory-structure","title":"1. Directory Structure","text":"<p>The NNS codebase follows a standard Next.js App Router structure, organized to separate concerns between routing, core logic, UI components, and global utilities.</p>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#root-directory","title":"Root Directory","text":"<ul> <li><code>src/</code>: The main source code directory.</li> <li><code>public/</code>: Static assets (images, icons, PWA manifest).</li> <li><code>docs/</code>: Project documentation.</li> <li><code>.firebase/</code>: Firebase configuration and build artifacts.</li> <li><code>next.config.ts</code>: Next.js configuration (PWA settings, image domains, headers).</li> <li><code>tailwind.config.ts</code>: Tailwind CSS configuration (theme, colors, plugins).</li> </ul>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#source-directory-src","title":"Source Directory (<code>src/</code>)","text":""},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#app-nextjs-app-router","title":"<code>app/</code> (Next.js App Router)","text":"<p>Contains the application's routing logic. Each folder represents a route segment. *   <code>layout.tsx</code>: Root layout defining global UI (navbar, footer, fonts). *   <code>page.tsx</code>: The home page. *   <code>admin/</code>: Routes for administrative tasks (User Management, Tournament Creation). *   <code>organizer/</code>: Organizer dashboard and tournament management tools. *   <code>tournaments/</code>: Public tournament listings and details pages. *   <code>profile/</code>: User profile viewing and editing. *   <code>auth/</code>: Authentication routes (Sign In, Sign Up, Callback). *   <code>api/</code>: Backend API routes (Webhooks, internal APIs).</p>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#lib-core-logic","title":"<code>lib/</code> (Core Logic)","text":"<p>Contains the business logic, types, and utility functions. This layer is framework-agnostic where possible. *   <code>types.ts</code>: The single source of truth for data models (UserProfile, Tournament, Match, etc.). *   <code>supabase/</code>: Supabase client initialization and helper functions. *   <code>tournament-logic.ts</code>: Complex logic for bracket generation, scoring, and advancement. *   <code>scheduler.ts</code>: Algorithms for optimizing match schedules. *   <code>ranking-system.ts</code>: Implementation of the skill rating system (Glicko-2 based). *   <code>utils.ts</code>: General utility functions (date formatting, cn).</p>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#components-ui-components","title":"<code>components/</code> (UI Components)","text":"<p>Reusable React components, organized by feature or type. *   <code>ui/</code>: Atomic UI primitives (Buttons, Inputs, Modals) using Radix UI + Tailwind. *   <code>tournaments/</code>: Tournament-specific components (BracketViewer, MatchCard). *   <code>profile/</code>: Profile-related components (StatsCard, AvatarUpload). *   <code>shared/</code>: Common components used across multiple features (Navbar, Footer, Loaders).</p>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#hooks-custom-hooks","title":"<code>hooks/</code> (Custom Hooks)","text":"<p>Encapsulated state logic and side effects. *   <code>use-auth.ts</code>: Authentication state and methods. *   <code>use-toast.ts</code>: Toast notification logic. *   <code>use-tournament.ts</code>: Tournament data fetching and manipulation.</p>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#actions-server-actions","title":"<code>actions/</code> (Server Actions)","text":"<p>Server-side functions called directly from client components. *   <code>auth-actions.ts</code>: Login, logout, registration actions. *   <code>tournament-actions.ts</code>: Create/Update tournament, register team.</p>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#styles","title":"<code>styles/</code>","text":"<p>Global styles and CSS modules. *   <code>globals.css</code>: Tailwind directives and global variable overrides.</p>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#2-optimization-strategies","title":"2. Optimization Strategies","text":""},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#21-server-side-rendering-ssr-server-components-rsc","title":"2.1 Server-Side Rendering (SSR) &amp; Server Components (RSC)","text":"<ul> <li>Strategy: Maximize the use of React Server Components (RSC) to reduce the client-side JavaScript bundle.</li> <li>Usage: All page roots (<code>page.tsx</code>) and non-interactive components are Server Components by default.</li> <li>Benefits: Faster First Contentful Paint (FCP), improved SEO, and lower device resource usage.</li> </ul>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#22-image-optimization","title":"2.2 Image Optimization","text":"<ul> <li>Strategy: Use <code>next/image</code> component for all images.</li> <li>Configuration:<ul> <li>Automatic format selection (WebP/AVIF).</li> <li>Lazy loading for images below the fold.</li> <li>Specific sizes prop for responsive serving.</li> </ul> </li> <li>Remote Patterns: Configured in <code>next.config.ts</code> to securely load images from authorized domains (Google Storage, Placehold.co).</li> </ul>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#23-caching-revalidation","title":"2.3 Caching &amp; Revalidation","text":"<ul> <li>Strategy: Leverage Next.js Data Cache to minimize database load.</li> <li>Implementation:<ul> <li><code>fetch</code> requests are cached by default.</li> <li>On-Demand Revalidation: Server Actions call <code>revalidatePath</code> or <code>revalidateTag</code> to purge stale cache entries after mutations (e.g., updating a score).</li> <li>Time-Based Revalidation: Dynamic pages (like live scores) use a short revalidation interval (e.g., <code>revalidate = 60</code>) or real-time subscriptions.</li> </ul> </li> </ul>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#24-code-splitting-dynamic-imports","title":"2.4 Code Splitting &amp; Dynamic Imports","text":"<ul> <li>Strategy: Split code bundles to load only what is needed for the current route.</li> <li>Implementation:<ul> <li>Next.js automatically splits code by route segments.</li> <li><code>next/dynamic</code>: Used for heavy client components (e.g., complex charts, map integrations) to load them only when visible or needed.</li> </ul> </li> </ul>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#25-font-optimization","title":"2.5 Font Optimization","text":"<ul> <li>Strategy: Use <code>next/font</code> for self-hosting and optimizing Google Fonts.</li> <li>Usage: Fonts (e.g., Inter, Outfit) are loaded layout-wide with zero layout shift (CLS).</li> <li>Optimization: Only required subsets (e.g., Latin) are downloaded.</li> </ul>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#26-bundle-analysis","title":"2.6 Bundle Analysis","text":"<ul> <li>Tool: <code>@next/bundle-analyzer</code> (optional dev tool).</li> <li>Process: Regularly analyze bundle sizes to identify large dependencies and tree-shaking issues.</li> </ul>"},{"location":"3_System_Architecture/3_2_Codebase_Structure_%26_Optimization/#3-best-practices","title":"3. Best Practices","text":"<ul> <li>Type Safety: Strict TypeScript usage throughout the stack. <code>src/lib/types.ts</code> is the central definition.</li> <li>Colocation: Keep components, tests, and styles collocated where it makes sense (feature-folder architecture).</li> <li>Server Actions: Prefer Server Actions over API routes for form submissions and mutations to simplify data flow.</li> <li>Error Handling: Use <code>error.tsx</code> boundaries to gracefully handle runtime errors without crashing the entire app.</li> </ul>"},{"location":"3_System_Architecture/3_3_Database_Schema/","title":"3.3 Database Schema","text":""},{"location":"3_System_Architecture/3_3_Database_Schema/#overview","title":"Overview","text":"<p>The NNS platform uses a relational database schema (PostgreSQL) managed via Supabase. The schema is designed to support the complex relationships between users, tournaments, organizations, and game data.</p> <p>Note: The definitive source of truth for the type definitions in the codebase is <code>src/lib/types.ts</code>. This document provides a conceptual overview and documentation of the schema derived from those types.</p>"},{"location":"3_System_Architecture/3_3_Database_Schema/#core-entities","title":"Core Entities","text":""},{"location":"3_System_Architecture/3_3_Database_Schema/#users-profiles-userprofile","title":"Users &amp; Profiles (<code>UserProfile</code>)","text":"<p>The central entity representing a registered user.</p> <ul> <li><code>id</code> (UUID, PK): Unique identifier (mapped from Auth Provider).</li> <li><code>roles</code> (Array): Roles assigned to the user (<code>admin</code>, <code>organizer</code>, <code>player</code>, <code>coach</code>).</li> <li><code>email</code>, <code>firstName</code>, <code>lastName</code>: PII.</li> <li><code>skillRating</code> (JSONB): Contains the Glicko-2 rating data (<code>rating</code>, <code>ratingDeviation</code>, <code>volatility</code>).</li> <li>Stats: Aggregated storage for <code>matchesWon</code>, <code>matchesLost</code>, <code>courtTimeHours</code> etc.</li> <li>Social: Arrays for <code>followingIds</code> and <code>followerIds</code>.</li> </ul>"},{"location":"3_System_Architecture/3_3_Database_Schema/#organizations-organization","title":"Organizations (<code>Organization</code>)","text":"<p>Represents a club, league, or entity that hosts events.</p> <ul> <li><code>id</code> (UUID, PK): Unique identifier.</li> <li><code>ownerId</code> (UUID, FK): The user who owns/manages the organization.</li> <li><code>organizerIds</code> (Array of UUIDs): Users with admin rights for this org.</li> <li><code>type</code>: E.g., 'tournament', 'club'.</li> <li><code>tournamentFormats</code>: Supported game formats.</li> </ul>"},{"location":"3_System_Architecture/3_3_Database_Schema/#tournaments-tournament","title":"Tournaments (<code>Tournament</code>)","text":"<p>The core event entity.</p> <ul> <li><code>id</code> (UUID, PK): Unique identifier.</li> <li><code>organizationId</code> (FK): The hosting organization.</li> <li><code>registrations</code> (JSONB/Relation): List of <code>Participant</code> objects (Teams or Individuals).</li> <li><code>format</code>: E.g., 'mens_doubles', 'coed_fours'.</li> <li><code>poolStructure</code> (JSONB): Configuration for pool sizes and waves.</li> <li><code>seedingFormat</code>: Rules for seeding games (points per game, cap).</li> <li><code>playoffConfig</code>: Rules for playoff brackets (elimination type, tiers).</li> </ul>"},{"location":"3_System_Architecture/3_3_Database_Schema/#matches-match","title":"Matches (<code>Match</code>)","text":"<p>Represents a single game within a tournament.</p> <ul> <li><code>id</code> (Integer/UUID): Unique identifier.</li> <li><code>tournamentId</code> (FK): Parent tournament.</li> <li><code>pool</code>: Identifier if part of pool play.</li> <li><code>bracketId</code>: Identifier if part of playoffs.</li> <li><code>participants</code>: The two teams competing.</li> <li><code>scores</code>: Array of <code>MatchScore</code> objects.</li> <li><code>winner</code>: The winning participant.</li> <li><code>status</code>: State of the match (<code>pending</code>, <code>ready</code>, <code>in_progress</code>, <code>finished</code>).</li> </ul>"},{"location":"3_System_Architecture/3_3_Database_Schema/#supporting-entities","title":"Supporting Entities","text":""},{"location":"3_System_Architecture/3_3_Database_Schema/#clinics-clinic","title":"Clinics (<code>Clinic</code>)","text":"<p>Coaching events.</p> <ul> <li><code>coachId</code> (FK): The instructor.</li> <li><code>registeredPlayerIds</code>: List of attendees.</li> <li><code>price</code>, <code>date</code>, <code>location</code>.</li> </ul>"},{"location":"3_System_Architecture/3_3_Database_Schema/#sessions-session","title":"Sessions (<code>Session</code>)","text":"<p>Pickup or open play sessions.</p> <ul> <li><code>hostId</code> (FK): The creator.</li> <li><code>level</code>: Skill level restriction (<code>open</code>, <code>aa</code>, <code>b</code>).</li> <li><code>visibility</code>: <code>public</code>, <code>followers</code>, or <code>private</code>.</li> <li><code>acceptedPlayerIds</code>: Confirmed attendees.</li> </ul>"},{"location":"3_System_Architecture/3_3_Database_Schema/#messaging","title":"Messaging","text":"<ul> <li><code>Conversation</code>: A chat thread (<code>direct</code>, <code>group</code>, <code>event</code>).</li> <li><code>members</code>: User IDs in the chat.</li> <li><code>relatedEventId</code>: Links chat to a Tournament or Clinic.</li> <li><code>Message</code>: Individual message.</li> <li><code>conversationId</code> (FK).</li> <li><code>senderId</code> (FK).</li> <li><code>text</code>, <code>attachments</code>.</li> </ul>"},{"location":"3_System_Architecture/3_3_Database_Schema/#ratings-userratinghistory","title":"Ratings (<code>UserRatingHistory</code>)","text":"<p>Audit log for rating changes.</p> <ul> <li><code>userId</code> (FK).</li> <li><code>tournamentId</code> (FK): Source of the rating change.</li> <li><code>oldRating</code>, <code>newRating</code>, <code>change</code>.</li> </ul>"},{"location":"3_System_Architecture/3_3_Database_Schema/#relationships-erd-concept","title":"Relationships (ERD Concept)","text":"<pre><code>erDiagram\n    UserProfile ||--o{ Organization : \"manages\"\n    UserProfile ||--o{ Tournament : \"registers for\"\n    UserProfile ||--o{ Clinic : \"registers for\"\n    UserProfile ||--o{ Session : \"joins\"\n\n    Organization ||--o{ Tournament : \"hosts\"\n\n    Tournament ||--o{ Match : \"contains\"\n    Tournament ||--o{ Participant : \"has\"\n\n    Clinic ||--|{ UserProfile : \"coach\"\n\n    Match }|--|| Participant : \"involves team 1\"\n    Match }|--|| Participant : \"involves team 2\"\n\n    Conversation ||--o{ Message : \"contains\"\n    Conversation }|--|{ UserProfile : \"members\"\n</code></pre>"},{"location":"3_System_Architecture/3_3_Database_Schema/#security-policies-rls","title":"Security Policies (RLS)","text":"<p>Although not strictly part of the schema definition, Row Level Security (RLS) policies in Supabase are crucial:</p> <ul> <li>Public Read: Most tournament and profile data is publicly readable.</li> <li>Authenticated Write: Users can only update their own profiles.</li> <li>Owner Write: Organization admins can only edit their own tournaments.</li> <li>Private Data: Email addresses and phone numbers are protected and only visible to authorized users (admins/organizers of events the user registered for).</li> </ul>"},{"location":"3_System_Architecture/3_4_Native_Strategy/","title":"3.4 Native Strategy","text":""},{"location":"3_System_Architecture/3_4_Native_Strategy/#1-overview","title":"1. Overview","text":"<p>NNS adopts a \"Progressive Web App (PWA) First\" strategy, leveraging modern web capabilities to deliver a native-like experience on both iOS and Android directly from the browser. This approach allows for rapid feature deployment, unified codebase maintenance, and broad accessibility without the friction of app store verification processes during the initial growth phase.</p> <p>In the future, the platform is architected to be wrapped in a native container (Capacitor or React Native Web) for App Store distribution when specific native-only features are required.</p>"},{"location":"3_System_Architecture/3_4_Native_Strategy/#2-pwa-implementation","title":"2. PWA Implementation","text":""},{"location":"3_System_Architecture/3_4_Native_Strategy/#21-configuration","title":"2.1 Configuration","text":"<p>The project uses <code>@ducanh2912/next-pwa</code> to automatically generate the service worker and manifest files during the build process.</p> <ul> <li>Manifest: Defines the app name (\"NextN\"), icons, theme colors (<code>#18181b</code> for dark mode), and display mode (<code>standalone</code>).</li> <li>Service Worker: Caches critical assets and API responses to enable offline functionality and faster subsequent loads.</li> <li>Installability: The app prompts users to \"Add to Home Screen\" (A2HS) on supported devices.</li> </ul>"},{"location":"3_System_Architecture/3_4_Native_Strategy/#22-native-like-features","title":"2.2 Native-Like Features","text":"<ul> <li>Standalone Mode: Removes the browser address bar and UI controls, giving the app the full screen real estate.</li> <li>Push Notifications: (Planned) Using Firebase Cloud Messaging (FCM) via the service worker to send tournament alerts and chat notifications even when the app is closed.</li> <li>Touch Interactions: UI components (swipeable lists, bottom sheets) are designed with touch targets and gestures in mind using Radix UI and Tailwind.</li> <li>Deep Linking: Standard web URLs (e.g., <code>/tournaments/abc-123</code>) serve as deep links, allowing users to share content easily via SMS or social media.</li> </ul>"},{"location":"3_System_Architecture/3_4_Native_Strategy/#3-ios-specifics","title":"3. iOS Specifics","text":"<p>iOS (Safari) has historically had stricter PWA limitations, but recent updates have improved support. *   Overscroll Behavior: CSS <code>overscroll-behavior-y: none</code> prevents the \"rubber band\" effect on the body, simulating a native scroll view. *   Safe Areas: <code>safe-area-inset-*</code> CSS variables are used to ensure content isn't obscured by the notch or home indicator. *   Splash Screens: Custom splash screens are generated to provide a smooth launch experience.</p>"},{"location":"3_System_Architecture/3_4_Native_Strategy/#4-android-specifics","title":"4. Android Specifics","text":"<ul> <li>WebAPK: On Android, installing the PWA generates a WebAPK, which designates the app as a top-level native application in the OS, managing its own storage and appearing in the app drawer.</li> <li>Background Sync: (Planned) leveraging the Background Sync API to retry failed network requests (e.g., score submission) when connectivity is restored.</li> </ul>"},{"location":"3_System_Architecture/3_4_Native_Strategy/#5-future-roadmap-capacitor-migration","title":"5. Future Roadmap: Capacitor Migration","text":"<p>As the user base grows and requirements evolve, we plan to use Capacitor to wrap the Next.js application into a native binary.</p>"},{"location":"3_System_Architecture/3_4_Native_Strategy/#why-capacitor","title":"Why Capacitor?","text":"<ul> <li>Single Codebase: We continue to write standard React/Next.js code.</li> <li>Native Plugins: Access to native SDKs like Contacts, Geolocation (high precision), and Haptics.</li> <li>App Store Presence: Allows listing on the Apple App Store and Google Play Store for discovery and credibility.</li> </ul>"},{"location":"3_System_Architecture/3_4_Native_Strategy/#migration-steps","title":"Migration Steps","text":"<ol> <li>Initialize Capacitor: <code>npm install @capacitor/core @capacitor/cli</code></li> <li>Configure Config: Point Capacitor to the Next.js build output (<code>out</code> or <code>public</code>).</li> <li>Add Platforms: <code>npx cap add ios</code> / <code>npx cap add android</code>.</li> <li>Sync: <code>npx cap sync</code> to copy web assets to native projects.</li> <li>Build &amp; Deploy: Use Xcode and Android Studio to build the final IPA/APK.</li> </ol>"},{"location":"3_System_Architecture/3_4_Native_Strategy/#6-current-limitations-mitigations","title":"6. Current Limitations &amp; Mitigations","text":"Limitation Mitigation Push Notifications (iOS) Requires iOS 16.4+ and user must \"Add to Home Screen\". We use in-app toasts and SMS fallback (Twilio, planned) for critical alerts. Offline Data We use <code>react-query</code> persistence and <code>localStorage</code> to cache tournament data for offline viewing. Full offline-write capability is complex and currently limited to simple actions. Performance Use RSC and Code Splitting to ensure the JS bundle remains small, keeping the app responsive even on mid-range devices."},{"location":"4_Feature_Deep_Dives/4_1_Skill_Rating_System/","title":"4.1 Skill Rating System Data Structure","text":""},{"location":"4_Feature_Deep_Dives/4_1_Skill_Rating_System/#overview","title":"Overview","text":"<p>The NNS Skill Rating System is a sophisticated meritocratic framework designed to accurately reflect a player's ability relative to the community. It moves beyond simple point accumulation by employing a customized implementation of the Glicko-2 rating algorithm. This system accounts for skill uncertainty (Rating Deviation) and consistency (Volatility) to provide fair matchmaking and reliable rankings.</p>"},{"location":"4_Feature_Deep_Dives/4_1_Skill_Rating_System/#core-concepts","title":"Core Concepts","text":""},{"location":"4_Feature_Deep_Dives/4_1_Skill_Rating_System/#21-the-glicko-2-algorithm","title":"2.1 The Glicko-2 Algorithm","text":"<p>Unlike Elo, which tracks only a single number (Rating), Glicko-2 tracks three parameters for every player:</p> <ol> <li>Rating (<code>r</code>): The best estimate of a player's skill.<ul> <li>Default: 1500</li> <li>Scale: Similar to chess ELO, but optimized for volleyball dynamics.</li> </ul> </li> <li>Rating Deviation (<code>RD</code>): A measure of the uncertainty in the rating.<ul> <li>High RD: The system is unsure; rating changes will be volatile (large jumps).</li> <li>Low RD: The system is confident; rating changes will be stable.</li> <li>Default: 350 (High uncertainty).</li> <li>Decay: RD increases over time if a player is inactive (the \"rust\" factor).</li> </ul> </li> <li>Volatility (<code>\u03c3</code>): A measure of a player's consistency.<ul> <li>Low Volatility: Player performs predictably.</li> <li>High Volatility: Player has erratic results (e.g., beats pros but loses to amateurs).</li> <li>Default: 0.06.</li> </ul> </li> </ol>"},{"location":"4_Feature_Deep_Dives/4_1_Skill_Rating_System/#22-shadow-rating-vs-display-rating","title":"2.2 Shadow Rating vs. Display Rating","text":"<p>To prevent \"ladder anxiety\" and confusion, the system maintains two layers:</p> <ul> <li>Shadow Rating (Internal): The raw Glicko-2 numbers used for seeding and math.</li> <li>Skill Tier (Public): A simplified label or badge (e.g., \"A\", \"AA\", \"Open\") derived from the rating range.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_1_Skill_Rating_System/#3-data-structure","title":"3. Data Structure","text":"<p>As defined in <code>src/lib/types.ts</code>, the rating data is stored directly on the <code>UserProfile</code> object:</p> <pre><code>type UserProfile = {\n  // ...\n  skillRating?: {\n    rating: number; // Current Skill Estimate (e.g., 1650.4)\n    ratingDeviation: number; // Uncertainty (e.g., 85.2)\n    volatility: number; // Consistency (e.g., 0.059)\n    lastUpdated: string; // ISO Date of last calculation\n    matchCount: number; // Total rated matches played\n\n    // Placement Logic\n    placementGamesPlayed: number;\n    isRated: boolean; // True if matchCount &gt;= 10\n  };\n  skillLabel?:\n    | \"Local Recreational\"\n    | \"VBC 1-Star Competitor\"\n    | \"National/Open Level\";\n};\n</code></pre>"},{"location":"4_Feature_Deep_Dives/4_1_Skill_Rating_System/#4-rating-calculation-process","title":"4. Rating Calculation Process","text":""},{"location":"4_Feature_Deep_Dives/4_1_Skill_Rating_System/#41-match-result-processing","title":"4.1 Match Result Processing","text":"<p>Ratings are updated after every verified tournament match. The process logic resides in <code>src/lib/ranking-system.ts</code>.</p> <ol> <li>Input: A match result (Team A vs. Team B, Score).</li> <li>Team Rating Aggregation:<ul> <li>For doubles, the team rating is the average of the two players' ratings.</li> <li>For 4s, it is the average of the top 3 players (to mitigate carrying).</li> </ul> </li> <li>Expectation Calculation: The system calculates the probability of Team A winning based on the rating difference.</li> <li>Update Step:<ul> <li>If the result matches expectation (Favorite wins), ratings change slightly.</li> <li>If an upset occurs (Underdog wins), ratings change significantly.</li> <li>The <code>RD</code> decreases for both teams (uncertainty reduces).</li> </ul> </li> </ol>"},{"location":"4_Feature_Deep_Dives/4_1_Skill_Rating_System/#42-audit-logging","title":"4.2 Audit Logging","text":"<p>Every change is recorded in the <code>UserRatingHistory</code> table for transparency and debugging:</p> <pre><code>type UserRatingHistory = {\n  id: string;\n  userId: string;\n  tournamentId: string;\n  oldRating: number;\n  newRating: number;\n  change: number;\n  timestamp: string;\n};\n</code></pre>"},{"location":"4_Feature_Deep_Dives/4_1_Skill_Rating_System/#5-ranking-tiers","title":"5. Ranking Tiers","text":"<p>The system maps numerical ratings to human-readable tiers for the UI:</p> Tier Rating Range Description Pro / Open 2000+ Professional or top-level national talent. AAA 1850 - 1999 Elite amateur competitors. AA 1700 - 1849 Advanced players with strong fundamentals. A 1550 - 1699 Intermediate competitive players. BB 1400 - 1549 Experienced recreational players. B &lt; 1400 Novice or purely recreational players."},{"location":"4_Feature_Deep_Dives/4_1_Skill_Rating_System/#6-implementation-references","title":"6. Implementation References","text":"<ul> <li>Logic: <code>src/lib/ranking-system.ts</code></li> <li>Types: <code>src/lib/types.ts</code></li> <li>UI Integration: <code>ProfileCard</code> displays the current rating trend.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_2_Tournament_Wizard/","title":"4.2 Tournament Wizard","text":""},{"location":"4_Feature_Deep_Dives/4_2_Tournament_Wizard/#overview","title":"Overview","text":"<p>The Tournament Wizard is a sophisticated, multi-step form interface designed to guide organizers through the complex process of creating and configuring a volleyball tournament. Given the myriad of variables involved in tournament logistics (court availability, team sizes, pool structures, playoff formats), the Wizard abstracts this complexity into logical, digestible steps.</p>"},{"location":"4_Feature_Deep_Dives/4_2_Tournament_Wizard/#user-flow","title":"User Flow","text":"<p>The Wizard is implemented as a stateful process using <code>Zustand</code> to manage the draft tournament configuration across steps.</p>"},{"location":"4_Feature_Deep_Dives/4_2_Tournament_Wizard/#step-1-basic-information-step-1-basicstsx","title":"Step 1: Basic Information (<code>step-1-basics.tsx</code>)","text":"<p>Establishes the fundamental identity of the event.</p> <ul> <li>Event Details: Name, Date, Start Time.</li> <li>Format Selection:</li> <li>Size: 2s (Doubles) or 4s.</li> <li>Gender/Mix: Men's, Women's, Coed, Reverse Coed.</li> <li>Location: Integrated with Google Places API for precise geolocation (used for map views).</li> <li>Description: Rich text editor for event details (rules, prizes).</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_2_Tournament_Wizard/#step-2-constraints-logistics-step-2-constraintstsx","title":"Step 2: Constraints &amp; Logistics (<code>step-2-constraints.tsx</code>)","text":"<p>The \"math engine\" of the tournament. This step is critical for ensuring the event runs on time.</p> <ul> <li>Capacity Planning:</li> <li>Number of Courts.</li> <li>Maximum Teams.</li> <li>Time Management:</li> <li>Registration Open/Close times.</li> <li>Match Duration estimates (e.g., 30 mins per game).</li> <li>Pool Configuration:</li> <li>Automatic Calculation: The system suggests optimal pool sizes (e.g., \"For 24 teams on 6 courts, use 6 pools of 4\").</li> <li>Wave Management: Supports morning/afternoon waves if team count exceeds court capacity.</li> <li>Playoff Structure:</li> <li>Divisions: Split into Gold/Silver/Bronze brackets based on pool performance.</li> <li>Seeding method: Power scedule vs Pool Play results.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_2_Tournament_Wizard/#step-3-financials-registration-planned","title":"Step 3: Financials &amp; Registration (Planned)","text":"<ul> <li>Entry Fee: Per team or per player.</li> <li>Payout Structure: Automated prize pool calculation.</li> <li>Registration Rules: Waitlist policy, partner requirements.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_2_Tournament_Wizard/#technical-implementation","title":"Technical Implementation","text":""},{"location":"4_Feature_Deep_Dives/4_2_Tournament_Wizard/#state-management-wizard-storets","title":"State Management (<code>wizard-store.ts</code>)","text":"<p>A dedicated Zustand store (<code>useWizardStore</code>) holds the partial <code>Tournament</code> object. This allows users to navigate back and forth between steps without losing data.</p> <ul> <li>Persistence: The store effectively acts as a draft buffer before the final submission to the database.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_2_Tournament_Wizard/#dynamic-validation","title":"Dynamic Validation","text":"<p>The wizard employs real-time validation to prevent impossible configurations.</p> <ul> <li>Example: If an organizer selects \"8 Courts\", \"30 Minutes per game\", and \"128 Teams\", the system will flag that the tournament would take 16+ hours to complete, prompting the user to either add courts, reduce teams, or shorten games.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_2_Tournament_Wizard/#database-interaction","title":"Database Interaction","text":"<p>Upon completion:</p> <ol> <li>The <code>Tournament</code> object is constructed from the store state.</li> <li>A <code>createTournament</code> Server Action is triggered.</li> <li>The tournament is saved to Supabase with the status <code>upcoming</code>.</li> <li>The organizer is redirected to the <code>Tournament Dashboard</code> to begin managing registrations.</li> </ol>"},{"location":"4_Feature_Deep_Dives/4_2_Tournament_Wizard/#uiux-considerations","title":"UI/UX Considerations","text":"<ul> <li>Progress Indicator: A stepper component visually indicates the current stage.</li> <li>Smart Defaults: Fields are pre-populated with sensible defaults (e.g., \"Standard 21-point games\") to speed up creation.</li> <li>Mobile Responsiveness: The wizard is fully responsive, allowing organizers to create events from a tablet or phone at the beach.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_3_Follower_%26_Social_System/","title":"4.3 Follower &amp; Social System","text":""},{"location":"4_Feature_Deep_Dives/4_3_Follower_%26_Social_System/#1-overview","title":"1. Overview","text":"<p>The Social System transforms NNS from a purely utility-based tool (tournament management) into a community platform. It drives engagement by allowing players to track their friends, rivals, and favorite organizers, creating a personalized feed of activity.</p>"},{"location":"4_Feature_Deep_Dives/4_3_Follower_%26_Social_System/#2-core-features","title":"2. Core Features","text":""},{"location":"4_Feature_Deep_Dives/4_3_Follower_%26_Social_System/#21-following-mechanics","title":"2.1 Following Mechanics","text":"<p>The relationship model is built on a directional \"Follow\" graph (<code>UserId -&gt; FollowingId</code>). *   Follow Players: Get notified when they register for a tournament or post a result. *   Follow Organizers: Receive alerts for new tournament announcements. *   Privacy Control: Users can set their profile to \"Private\", requiring approval for follow requests (Logic in <code>use-relationships.ts</code>).</p>"},{"location":"4_Feature_Deep_Dives/4_3_Follower_%26_Social_System/#22-activity-feed","title":"2.2 Activity Feed","text":"<p>Aggregates relevant events into a scrollable timeline on the home screen (<code>PlayerFeed</code>). *   Event Types:     *   <code>TournamentCreated</code>: An organizer you follow posted a new event.     *   <code>Registration</code>: A friend registered for a tournament (driving FOMO).     *   <code>Result</code>: A friend won a tournament or placed on the podium.     *   <code>Post</code>: Manual status updates or media shares.</p>"},{"location":"4_Feature_Deep_Dives/4_3_Follower_%26_Social_System/#23-profile-integration","title":"2.3 Profile Integration","text":"<p>Social stats are prominent on the <code>UserProfile</code>: *   Followers Count: Social proof of influence. *   Following Count: Network size. *   Mutuals: (Planned) \"You both know...\" indicators.</p>"},{"location":"4_Feature_Deep_Dives/4_3_Follower_%26_Social_System/#3-technical-implementation","title":"3. Technical Implementation","text":""},{"location":"4_Feature_Deep_Dives/4_3_Follower_%26_Social_System/#31-data-model","title":"3.1 Data Model","text":"<p>Social connections are stored in the <code>UserProfile</code> arrays to avoid expensive join tables for simple reads. *   <code>followingIds</code>: Array of User IDs the user follows. *   <code>followerIds</code>: Array of User IDs following the user. *   Note: For scale, this array approach works for thousands of followers. For millions, we would migrate to a dedicated <code>Relationships</code> table.</p>"},{"location":"4_Feature_Deep_Dives/4_3_Follower_%26_Social_System/#32-real-time-updates","title":"3.2 Real-time Updates","text":"<ul> <li>Optimistic UI: Clicking \"Follow\" instantly updates the UI button state while the server request processes.</li> <li>Notifications: Backend triggers send push notifications or in-app alerts when a follow occurs.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_3_Follower_%26_Social_System/#33-discovery","title":"3.3 Discovery","text":"<ul> <li>Global Search: Integrated finding of other players by name.</li> <li>Suggestions: (Planned) Algorithms recommending players based on mutual tournament participation.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_4_Clinics/","title":"4.4 Clinics","text":""},{"location":"4_Feature_Deep_Dives/4_4_Clinics/#1-overview","title":"1. Overview","text":"<p>Clinics serve as the educational pillar of the NNS platform, enabling experienced players and professional coaches to offer training sessions to the community. This feature allows coaches to monetize their expertise while providing players with structured opportunities to improve their skills (and their Glicko rating).</p>"},{"location":"4_Feature_Deep_Dives/4_4_Clinics/#2-the-coach-experience","title":"2. The Coach Experience","text":""},{"location":"4_Feature_Deep_Dives/4_4_Clinics/#21-clinic-creation","title":"2.1 Clinic Creation","text":"<p>Accessible via the \"Coach Dashboard\", the creation flow is streamlined to allow quick setup of training events. *   Essential Details: Title (\"Advanced Defense\"), Date, Time, Duration. *   Location: Integrated with Google Places for precise court location. *   Capacity: Strict limit on participants (e.g., \"Max 8 players\") to ensure quality instruction. *   Pricing: Integration with Stripe Connect allows coaches to set a fee (e.g., $20/player) and receive payouts directly.</p>"},{"location":"4_Feature_Deep_Dives/4_4_Clinics/#22-roster-management","title":"2.2 Roster Management","text":"<p>Coaches have a real-time view of their clinic roster. *   Attendee List: View names and profiles of registered players. *   Communication: One-click \"Message All\" feature to send updates (e.g., generic weather alerts or specific instructions).</p>"},{"location":"4_Feature_Deep_Dives/4_4_Clinics/#3-the-player-experience","title":"3. The Player Experience","text":""},{"location":"4_Feature_Deep_Dives/4_4_Clinics/#31-discovery","title":"3.1 Discovery","text":"<p>Clinics appear alongside tournaments in the main event feed but are visually distinct (often color-coded or using specific icons). *   Filtering: Players can filter for \"Clinics Only\" or by skill level (e.g., \"Beginner Friendly\").</p>"},{"location":"4_Feature_Deep_Dives/4_4_Clinics/#32-registration","title":"3.2 Registration","text":"<ul> <li>One-Tap Sign Up: If the clinic is free or the user has a saved payment method.</li> <li>Waitlist: If a clinic is full, players can join a waitlist and are auto-notified if a spot opens up.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_4_Clinics/#4-technical-architecture","title":"4. Technical Architecture","text":""},{"location":"4_Feature_Deep_Dives/4_4_Clinics/#41-data-model","title":"4.1 Data Model","text":"<p>Defined in <code>types.ts</code> as <code>Clinic</code>: *   <code>coachId</code>: Links to the <code>UserProfile</code> of the organizer. *   <code>registeredPlayerIds</code>: Array of User IDs. *   <code>earnings</code>: (Private) Tracks revenue for the coach.</p>"},{"location":"4_Feature_Deep_Dives/4_4_Clinics/#42-state-management","title":"4.2 State Management","text":"<p>The <code>ClinicsContext</code> handles the loading and caching of clinic data. *   Efficiency: Clinics are often fetched in batches with tournaments to populate the main calendar view.</p>"},{"location":"4_Feature_Deep_Dives/4_4_Clinics/#5-future-enhancements","title":"5. Future Enhancements","text":"<ul> <li>Recurring Clinics: \"Every Tuesday at 6 PM\" configurations.</li> <li>Feedback Loop: automatic post-clinic survey sending to attendees to rate the session and provide testimonials for the coach.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/","title":"4.5 Tournaments","text":""},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/#1-overview","title":"1. Overview","text":"<p>Tournaments are the flagship feature of the NNS platform, driving the competitive ecosystem and providing the data that powers the Skill Rating System. The Tournament module is an end-to-end solution handling everything from discovery and registration to live scoring and results processing.</p>"},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/#2-discovery-registration","title":"2. Discovery &amp; Registration","text":""},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/#21-the-tournament-feed","title":"2.1 The Tournament Feed","text":"<p>Users browse tournaments via a robust filtering interface (<code>src/app/tournaments</code>). *   Filters: Format (2s, 4s), Gender, Date Range, Location. *   Status Indicators: \"Open\", \"Waitlist\", \"Sold Out\", \"In Progress\".</p>"},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/#22-registration-flows","title":"2.2 Registration Flows","text":"<ul> <li>Team Registration: A user registers themselves and invites a partner. The team is \"Incomplete\" until the partner accepts the invite.</li> <li>Free Agent: Individual players can register as \"Looking for Team\". Organizers or other free agents can pair up with them.</li> <li>Payment: Integration with Stripe handles entry fees. </li> </ul>"},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/#3-tournament-day-live-mode","title":"3. Tournament Day (Live Mode)","text":""},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/#31-the-live-bracket","title":"3.1 The \"Live Bracket\"","text":"<p>Once a tournament starts, the platform shifts to a \"Live Mode\". *   Visuals: Interactive bracket diagrams (Single/Double Elimination) and Pool Play tables. *   Updates: Matches turn \"Green\" (Active) or \"Grey\" (Finished) in real-time.</p>"},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/#32-scoring","title":"3.2 Scoring","text":"<ul> <li>Self-Refereed: In many formats, players score their own games.</li> <li>Role-Based Access: Winning teams or assigned referees enter scores directly into the app via a mobile-optimized modal.</li> <li>Validation: Scores are validated against the format rules (e.g., \"Must allow max 21 points\").</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/#4-the-algorithm-under-the-hood","title":"4. The Algorithm (Under the Hood)","text":""},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/#41-seeding-seedingts","title":"4.1 Seeding (<code>seeding.ts</code>)","text":"<p>The system automatically seeds teams based on their combined Glicko rating points. *   Logic: <code>(PlayerA.rating + PlayerB.rating) / 2</code>. *   Overrides: Organizers can manually adjust seeds for \"wild cards\".</p>"},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/#42-pool-generation-tournament-logicts","title":"4.2 Pool Generation (<code>tournament-logic.ts</code>)","text":"<p>Algorithms distribute teams into pools to ensure balanced play (Snake Seeding). *   Example: Pool A gets Seeds 1, 8, 9, 16.</p>"},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/#43-advancement","title":"4.3 Advancement","text":"<ul> <li>Rules Engine: Organizers define advancement rules (e.g., \"Top 2 from each pool go to Gold\").</li> <li>Calculation: The system calculates \"Point Differential\" and \"Head-to-Head\" to break ties automatically.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/#5-post-tournament","title":"5. Post-Tournament","text":""},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/#51-results-processing","title":"5.1 Results Processing","text":"<p>Once the final match concludes: 1.  Rankings: Final placements (1st, 2nd, 3rd) are crystallized. 2.  Points Awarded: Leaderboard points are distributed based on the \"Broad Meritocracy\" formula. 3.  Rating Updates: The Glicko-2 engine processes all match results to update player skill ratings.</p>"},{"location":"4_Feature_Deep_Dives/4_5_Tournaments/#52-media","title":"5.2 Media","text":"<p>Participants can upload photos/videos to the \"Tournament Gallery\", which appear on the event page and participating user profiles.</p>"},{"location":"4_Feature_Deep_Dives/4_6_Sessions/","title":"4.6 Sessions","text":""},{"location":"4_Feature_Deep_Dives/4_6_Sessions/#1-overview","title":"1. Overview","text":"<p>Sessions (or \"Pickup Games\") represent the casual, decentralized side of beach volleyball. Unlike tournaments (organized, competitive) or clinics (educational), Sessions are about finding people to play with right now or in the near future. This feature empowers any user to be an organizer of casual play.</p>"},{"location":"4_Feature_Deep_Dives/4_6_Sessions/#2-core-functionality","title":"2. Core Functionality","text":""},{"location":"4_Feature_Deep_Dives/4_6_Sessions/#21-creation","title":"2.1 Creation","text":"<p>Any user can create a Session. *   Visibility Control:     *   Public: Open to anyone on the platform. Great for growing a group.     *   Followers Only: Visible only to people who follow the host. Good for maintaining a vetted quality of play.     *   Private/Invite Only: Hidden from feeds; accessible only via direct link or invite. *   Level Targeting: Hosts can tag the session with a skill level (e.g., \"AA/Open\" or \"B/Recreational\") to set expectations.</p>"},{"location":"4_Feature_Deep_Dives/4_6_Sessions/#22-rsvp-system","title":"2.2 RSVP System","text":"<p>The session manages the \"Who's In\" list. *   Status: <code>accepted</code>, <code>pending</code>, <code>waitlist</code>. *   Min/Max Players: Hosts can set a minimum number of players needed for the session to go ahead (e.g., \"Need 4 for 2s\") and a hard cap to prevent overcrowding.</p>"},{"location":"4_Feature_Deep_Dives/4_6_Sessions/#23-session-log-score-tracking","title":"2.3 Session Log (Score Tracking)","text":"<p>During or after the session, players can log generic game results. *   Purpose: While these games don't typically affect the official Glicko rating (to prevent abuse), they contribute to \"Court Time\" stats and activity feeds.</p>"},{"location":"4_Feature_Deep_Dives/4_6_Sessions/#3-the-sub-request-system","title":"3. The \"Sub Request\" System","text":"<p>A specialized type of Session/Post designed for immediate needs. *   Scenario: \"We have a 4s team but one player dropped out last minute.\" *   Mechanism: A \"Sub Request\" is broadcast to relevant players (filtered by gender/skill) in the local area via push notification. *   Acceptance: The first qualified player to \"Accept\" fills the spot.</p>"},{"location":"4_Feature_Deep_Dives/4_6_Sessions/#4-technical-implementation","title":"4. Technical Implementation","text":""},{"location":"4_Feature_Deep_Dives/4_6_Sessions/#41-data-context","title":"4.1 Data &amp; Context","text":"<ul> <li><code>Session</code> Type: Includes <code>hostId</code>, <code>location</code>, <code>dateTime</code>, <code>visibility</code>.</li> <li><code>SessionsContext</code>: Manages the subscription to session updates.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_6_Sessions/#42-geolocation","title":"4.2 Geolocation","text":"<p>Sessions rely heavily on location services. *   <code>geolib</code>: Used to calculate distance from the user (\"Typically plays at Kitsilano Beach\") to the session location, sorting the feed by proximity.</p>"},{"location":"4_Feature_Deep_Dives/4_7_Messaging_System/","title":"4.7 Messaging System","text":""},{"location":"4_Feature_Deep_Dives/4_7_Messaging_System/#overview","title":"Overview","text":"<p>The Messaging System facilitates direct communication between players, partners, and organizers. It is crucial for coordinating partners (\"Do you want to play in this tourney?\"), logistical questions (\"What time does check-in start?\"), and social banter.</p>"},{"location":"4_Feature_Deep_Dives/4_7_Messaging_System/#conversation-types-typests","title":"Conversation Types (<code>types.ts</code>)","text":""},{"location":"4_Feature_Deep_Dives/4_7_Messaging_System/#direct-messages-dm","title":"Direct Messages (DM)","text":"<ul> <li>Participants: 1-on-1 chat.</li> <li>Use Case: Finding a partner, private coordination.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_7_Messaging_System/#event-chats-group","title":"Event Chats (Group)","text":"<ul> <li>Participants: All registered players of a specific tournament or clinic.</li> <li>Feature: Automatically created when an event is published.</li> <li>Use Case: Organizer announcements (\"Rain delay until 10 AM\"), lost &amp; found, general hype.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_7_Messaging_System/#team-chats-group","title":"Team Chats (Group)","text":"<ul> <li>Participants: Teammates (2 or 4 players).</li> <li>Use Case: Strategy discussion, carpooling.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_7_Messaging_System/#architecture","title":"Architecture","text":""},{"location":"4_Feature_Deep_Dives/4_7_Messaging_System/#real-time-engine","title":"Real-time Engine","text":"<p>Powering the chat is Supabase Realtime.</p> <ul> <li>Channel Subscription: The client subscribes to <code>room:conversation_id</code>.</li> <li>Event Listeners: Listens for <code>INSERT</code> events on the <code>messages</code> table.</li> <li>Delivery: Messages appear instantly without polling.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_7_Messaging_System/#data-persistence","title":"Data persistence","text":"<p>Messages are stored in Postgres for history retrieval.</p> <ul> <li>Table: <code>messages</code></li> <li>Foreign Keys: <code>sender_id</code>, <code>conversation_id</code>.</li> <li>Attachments: Image/Video URLs stored in <code>attachments</code> JSON column.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_7_Messaging_System/#hook-logic-use-chatts","title":"Hook Logic (<code>use-chat.ts</code>)","text":"<ul> <li><code>sendMessage(text, attachments)</code>: Optimistically adds the message to the local UI state, then sends to Supabase.</li> <li><code>markAsRead(messageId)</code>: Updates the read receipt status.</li> <li><code>useConversations()</code>: Fetches the list of active threads sorted by <code>lastMessageAt</code>.</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_7_Messaging_System/#ui-components","title":"UI Components","text":"<ul> <li><code>ChatWindow</code>: The main interface. Handles scrolling, message bubbles, and input.</li> <li><code>ConversationList</code>: Sidebar showing active chats with unread indicators.</li> <li><code>MessageBubble</code>: Renders text, emojis, and media previews. Distinguishes between \"Me\" (right aligned) and \"Them\" (left aligned).</li> </ul>"},{"location":"4_Feature_Deep_Dives/4_7_Messaging_System/#security-safety","title":"Security &amp; Safety","text":"<ul> <li>Block Lists: Users can block others interactions; implemented via RLS policies preventing message delivery.</li> <li>Report: Ability to flag abusive content for admin review.</li> </ul>"},{"location":"5_Change_Logs/2025-12-02-tournament-ui-and-calendar-fixes/","title":"Tournament UI and Calendar Fixes","text":"<p>Date: 2025-12-02</p>"},{"location":"5_Change_Logs/2025-12-02-tournament-ui-and-calendar-fixes/#objective","title":"Objective","text":"<p>Refine tournament creation/display and fix calendar UI alignment.</p>"},{"location":"5_Change_Logs/2025-12-02-tournament-ui-and-calendar-fixes/#changes","title":"Changes","text":"<ul> <li>Simplified pool display names (e.g., \"Pool A\" to \"A\").</li> <li>Set default seeding format for new tournaments to \"Standard\".</li> <li>Fixed UI alignment of the calendar popup day headers and date grid.</li> </ul>"},{"location":"5_Change_Logs/2025-12-04-playoff-scheduling-ui-integration/","title":"Playoff Scheduling UI Integration","text":"<p>Date: 2025-12-04</p>"},{"location":"5_Change_Logs/2025-12-04-playoff-scheduling-ui-integration/#objective","title":"Objective","text":"<p>Integrate the new <code>TournamentSchedule</code> UI component and ensure playoff persistence.</p>"},{"location":"5_Change_Logs/2025-12-04-playoff-scheduling-ui-integration/#changes","title":"Changes","text":"<ul> <li>Integrated <code>TournamentSchedule</code> UI into tournament details page.</li> <li>Verified <code>scheduleMatches</code> function invocation during playoff generation.</li> <li>Ensured results persistence.</li> <li>Verified implementation with dedicated test script.</li> </ul>"},{"location":"5_Change_Logs/2025-12-08-refining-session-details-ui/","title":"Refining Session Details UI","text":"<p>Date: 2025-12-08</p>"},{"location":"5_Change_Logs/2025-12-08-refining-session-details-ui/#objective","title":"Objective","text":"<p>Refine the Session Details UI for reporting match sets and enable multi-player selection.</p>"},{"location":"5_Change_Logs/2025-12-08-refining-session-details-ui/#changes","title":"Changes","text":"<ul> <li>Implemented Multi-Player Selection using dropdowns.</li> <li>Updated <code>SessionSet</code> type to support array of players.</li> <li>Enabled Set Editing functionality.</li> <li>Optimized match set entry form for mobile layout.</li> <li>Ensured backward compatibility for legacy session data.</li> </ul>"},{"location":"5_Change_Logs/2025-12-17-refactoring-context-providers/","title":"Refactoring Context Providers","text":"<p>Date: 2025-12-17</p>"},{"location":"5_Change_Logs/2025-12-17-refactoring-context-providers/#objective","title":"Objective","text":"<p>Resolve <code>TypeError</code> during Next.js production build (<code>npm run build</code>).</p>"},{"location":"5_Change_Logs/2025-12-17-refactoring-context-providers/#changes","title":"Changes","text":"<ul> <li>Systematically isolated providers in <code>app-providers.tsx</code>.</li> <li>Pinpointed circular dependencies or runtime errors in context initialization.</li> <li>Refactored provider structure to ensure successful build.</li> </ul>"},{"location":"5_Change_Logs/2025-12-21-debugging-auth-and-sw/","title":"Debugging Auth and SW","text":"<p>Date: 2025-12-21</p>"},{"location":"5_Change_Logs/2025-12-21-debugging-auth-and-sw/#objective","title":"Objective","text":"<p>Resolve authentication issues and broken Service Worker blocking app function.</p>"},{"location":"5_Change_Logs/2025-12-21-debugging-auth-and-sw/#changes","title":"Changes","text":"<ul> <li>Investigated <code>ReferenceError</code> in <code>sw.js</code>.</li> <li>Fixed <code>useUser</code> hook to correctly fetch user data.</li> <li>Cleared broken Service Worker caches.</li> </ul>"},{"location":"5_Change_Logs/2025-12-24-debugging-deployment-404-errors/","title":"Debugging Deployment 404 Errors","text":"<p>Date: 2025-12-24</p>"},{"location":"5_Change_Logs/2025-12-24-debugging-deployment-404-errors/#objective","title":"Objective","text":"<p>Resolve new 404 errors on deployed application scripts and assets.</p>"},{"location":"5_Change_Logs/2025-12-24-debugging-deployment-404-errors/#changes","title":"Changes","text":"<ul> <li>Identified \"zombie\" Service Worker as root cause.</li> <li>Inspected <code>firebase.json</code> and <code>package.json</code> configuration.</li> <li>Implemented mechanism to forcefully unregister Service Workers.</li> <li>Rebuilt and redeployed application.</li> </ul>"},{"location":"5_Change_Logs/2026-01-02-creating-llm-context-document/","title":"Creating LLM Context Document","text":"<p>Date: 2026-01-02</p>"},{"location":"5_Change_Logs/2026-01-02-creating-llm-context-document/#objective","title":"Objective","text":"<p>Create a comprehensive reference document for interacting with LLMs about the platform.</p>"},{"location":"5_Change_Logs/2026-01-02-creating-llm-context-document/#changes","title":"Changes","text":"<ul> <li>Reviewed entire codebase.</li> <li>Created context document acting as persistent memory for LLMs.</li> </ul>"},{"location":"5_Change_Logs/2026-01-04-implementing-rules-engine/","title":"Implementing Rules Engine","text":"<p>Date: 2026-01-04</p>"},{"location":"5_Change_Logs/2026-01-04-implementing-rules-engine/#objective","title":"Objective","text":"<p>Implement a rules engine for the UPT Configurator.</p>"},{"location":"5_Change_Logs/2026-01-04-implementing-rules-engine/#changes","title":"Changes","text":"<ul> <li>Updated <code>Part</code> data structure to include <code>rules</code> (requires, excludes).</li> <li>Implemented compatibility test rules.</li> <li>Updated Zustand store with <code>checkCompatibility</code> function.</li> <li>Modified <code>ConfiguratorControls</code> UI to block incompatible selections.</li> </ul>"},{"location":"5_Change_Logs/2026-01-04-refining-configurator-ui/","title":"Refining Configurator UI","text":"<p>Date: 2026-01-04</p>"},{"location":"5_Change_Logs/2026-01-04-refining-configurator-ui/#objective","title":"Objective","text":"<p>Refine the Envo UPT Configurator by implementing Sprint 1 requirements.</p>"},{"location":"5_Change_Logs/2026-01-04-refining-configurator-ui/#changes","title":"Changes","text":"<ul> <li>Implemented robust Rules Engine in Zustand store.</li> <li>Enhanced UI to be \"Porsche-like\" (minimalist, high-contrast).</li> <li>Added \"Presets\" feature for pre-configured setups.</li> <li>Improved 3D scene visual fidelity.</li> </ul>"},{"location":"5_Change_Logs/2026-01-12-fixing-authentication-docs/","title":"Fixing Authentication and Docs","text":"<p>Date: 2026-01-12</p>"},{"location":"5_Change_Logs/2026-01-12-fixing-authentication-docs/#objective","title":"Objective","text":"<p>Fix frontend authentication issues and generate database documentation.</p>"},{"location":"5_Change_Logs/2026-01-12-fixing-authentication-docs/#changes","title":"Changes","text":"<ul> <li>Resolved <code>CONFIGURATION_NOT_FOUND</code> and authentication failures.</li> <li>Ensured Google, Apple, and email/password auth function correctly.</li> <li>Generated Database Design Document with ERDs.</li> </ul>"},{"location":"5_Change_Logs/2026-01-17-firestore-read-optimization/","title":"Firestore Read Optimization","text":"<p>Date: 2026-01-17</p>"},{"location":"5_Change_Logs/2026-01-17-firestore-read-optimization/#objective","title":"Objective","text":"<p>The main objective was to drastically reduce Firestore read costs and improve application performance.</p>"},{"location":"5_Change_Logs/2026-01-17-firestore-read-optimization/#changes","title":"Changes","text":"<ul> <li>Refactored server-side bulk fetches to targeted client-side queries using React Query hooks.</li> <li>Implemented a read logging utility for monitoring.</li> <li>Cleaned up unused code.</li> <li>Deployed optimized application to production.</li> </ul>"},{"location":"5_Change_Logs/2026-01-26-integrating-new-assets-urls/","title":"Integrating New Assets and URLs","text":"<p>Date: 2026-01-26</p>"},{"location":"5_Change_Logs/2026-01-26-integrating-new-assets-urls/#objective","title":"Objective","text":"<p>Update the UPT Configurator to use new GLB assets and implement \"Stateful URLs\".</p>"},{"location":"5_Change_Logs/2026-01-26-integrating-new-assets-urls/#changes","title":"Changes","text":"<ul> <li>Analyzed Excel matrix (v6) and associated GLB files.</li> <li>Updated data processing for new matrix structure.</li> <li>Modified 3D viewer to load individual GLB files.</li> <li>Implemented \"Stateful URLs\" to encode build configurations in the URL.</li> </ul>"},{"location":"5_Change_Logs/2026-01-28-refining-background-context/","title":"Refining Background Context","text":"<p>Date: 2026-01-28</p>"},{"location":"5_Change_Logs/2026-01-28-refining-background-context/#objective","title":"Objective","text":"<p>The main objective was to refine the <code>1_3_Background_and_Context.md</code> document.</p>"},{"location":"5_Change_Logs/2026-01-28-refining-background-context/#changes","title":"Changes","text":"<ul> <li>Removed academic references.</li> <li>Incorporated a personal narrative about the journey in the Vancouver beach volleyball community.</li> <li>Refined problem and solution statements to align with this narrative.</li> </ul>"},{"location":"5_Change_Logs/2026-01-29-security-rules-audit/","title":"Security Rules Overhaul Walkthrough","text":"<p>Date: 2026-01-29</p>"},{"location":"5_Change_Logs/2026-01-29-security-rules-audit/#summary-of-changes","title":"Summary of Changes","text":"<p>We have completely overhauled the <code>firestore.rules</code> file to move from a testing \"allow all\" state to a production-ready, role-based security model.</p>"},{"location":"5_Change_Logs/2026-01-29-security-rules-audit/#key-security-concepts-implemented","title":"Key Security Concepts Implemented","text":"<ol> <li>Authentication Requirement: Most data requires a valid logged-in user (<code>request.auth != null</code>).</li> <li>Role-Based Access Control (RBAC):<ul> <li>Admins: Users with an <code>'admin'</code> role in their profile can write to almost any collection.</li> <li>Owners: Users can generally only edit their own data (e.g., specific fields in their User Profile).</li> <li>Organizers: Organization managers can edit tournaments and details for organizations they manage.</li> </ul> </li> <li>Public vs. Private Data:<ul> <li>Public Read: Tournaments, Organizations, Sessions (to allow sharing and viewing without login).</li> <li>Authenticated Read: User profiles (requires login to view others).</li> <li>Strict Writes: Strictly restricted to owners, organizers, or admins.</li> </ul> </li> </ol>"},{"location":"5_Change_Logs/2026-01-29-security-rules-audit/#collection-specific-rules","title":"Collection-Specific Rules","text":"Collection Read Policy Write Policy <code>users</code> Authenticated Owner (Self) or Admin <code>tournaments</code> Public Admin or Organizer <code>organizations</code> Public Admin or Organizer <code>sessions</code> Public Host or Admin <code>conversations</code> Members Only Members or Admin <code>messages</code> Conversation Members Sender (Self) or Admin <code>applications</code> Owner or Admin Owner or Admin <code>sub_requests</code> Public Creator or Admin <code>clinics</code> Public Coach or Admin <code>highlights</code> Public Owner or Admin"},{"location":"5_Change_Logs/2026-01-29-security-rules-audit/#files-changed","title":"Files Changed","text":"<ul> <li><code>firestore.rules</code>: Replaced with new version containing helper functions and specific <code>match</code> blocks.</li> </ul>"},{"location":"5_Change_Logs/5_1_Jan_2026/","title":"January 2026","text":""},{"location":"5_Change_Logs/5_1_Jan_2026/#jan-23-2026","title":"jan 23 2026","text":"<p>I have completed a deep cleanup of the context providers to resolve the duplicate fetch issues.</p> <p>Summary of Fixes:</p> <p>UserContext: Memoized the context value and wrapped getIdToken in useCallback. Changed onSnapshot dependency to use user.uid instead of the unstable user object. SessionsContext: Refactored to use the stable useFirestore hook (instead of initializeFirebase()), wrapped all helper functions (addSession, etc.) in useCallback, and memoized the context value. TournamentsContext: Similarly refactored to use useFirestore, wrapped all functions, and memoized the context value. SubRequestProvider: Optimizations applied previously (stable useFirestore, memoized value). Hooks: Updated useInbox and useChat to depend on stable user.uid. Verification Required: Please reload the application and observe the Network tab. You should see a significant reduction in channel?gsessionid requests. The continuous stream every few seconds should be gone.</p> <p>Check the Walkthrough artifact for a detailed summary of all changes.</p> <p>Walkthrough: Firestore Read Optimization I have successfully optimized the application to significantly reduce Firestore read costs and improve load times.</p> <p>\ud83c\udfaf Primary Improvements Reduced Profile Reads by ~99%</p> <p>Before: Visiting a profile fetched the entire database (all users, all tournaments, all highlights) to find relevant items. (Reads: ~3000+) After: Only data for the specific user is fetched using new hooks. (Reads: ~3) Impact: Massive cost reduction and instant page loads. Optimized Admin Dashboard</p> <p>Before: Server-side fetched 4 full collections before rendering. After: Dashboard loads instantly, with data fetched lazily client-side only when specific tabs are active. Added Read Monitoring</p> <p>Integrated a [Firestore Read] logger in development to tracking usage in real-time. \ud83d\udee0 Key Changes</p> <ol> <li>New Targeted Hooks    I replaced bulk fetching with specific queries:</li> </ol> <p>useUserHighlights(userId) : Fetches only a user's clips. useAdminUsing/useAdminTournaments: Lazy-loads admin tables. 2. Refactored Pages src/app/profile/page.tsx &amp; [userId]/page.tsx: Removed fetchAll* calls. src/app/admin/dashboard/page.tsx : Switched to a skeletal loader structure. 3. Cleanup Removed unused \"initialData\" props drilling through multiple components. Verified no fetchAll functions remain in the main user flows. \u2705 Verification You confirmed via screenshot that the profile page now logs only:</p> <p>[Firestore Read] highlights: 2 docs [Firestore Read] leaderboards: 1 docs This confirms the fix is working as intended.</p>"},{"location":"6_AI_Strategy/6_1_AI_Strategy/","title":"AI Development Strategy: NNS Session","text":"<p>Last Updated: January 2026 Project: NNS Session (Beach Volleyball Platform) Primary Tooling: Google Antigravity IDE + Gemini 1.5 Pro</p>"},{"location":"6_AI_Strategy/6_1_AI_Strategy/#1-executive-summary","title":"1. Executive Summary","text":"<p>This document defines the standard operating procedure (SOP) for utilizing AI in the development of NNS Session. Unlike traditional \"copilot\" workflows that rely on small-context suggestions, our strategy leverages Deep Context and Agentic Workflows provided by Antigravity.</p> <p>The Goal: To treat the AI not just as a code autocomplete tool, but as a \"Staff Engineer\" that maintains a holistic mental model of the entire NNS Session codebase, database schema, and product roadmap.</p>"},{"location":"6_AI_Strategy/6_1_AI_Strategy/#2-the-core-advantage-total-context","title":"2. The Core Advantage: \"Total Context\"","text":"<p>We prioritize Context Window over Retrieval (RAG). Because we are using Gemini 1.5 Pro within Antigravity, we can fit the entire project scope into the model's memory.</p>"},{"location":"6_AI_Strategy/6_1_AI_Strategy/#the-protocol","title":"The Protocol","text":"<ul> <li>No Fragmented Context: Do not rely on the AI guessing which files are relevant. When starting a major feature (e.g., \"Implement Double Elimination Brackets\"), ensure the Agent has visibility of:</li> <li>The full <code>schema.sql</code> (or Prisma/ORM definition).</li> <li>The relevant Frontend Component logic.</li> <li>The Backend API route handlers.</li> <li>External Knowledge Injection: Since privacy is not a concern, we actively inject \"Real World\" context.</li> <li>Action Item: Upload the official FIVB / KBVA Beach Volleyball Rules as a PDF into the project context. The AI must understand \"Sideout scoring\" vs \"Rally scoring\" to write accurate logic.</li> </ul>"},{"location":"6_AI_Strategy/6_1_AI_Strategy/#3-workflow-the-two-track-system","title":"3. Workflow: The Two-Track System","text":"<p>We use two distinct modes of AI interaction depending on the task complexity.</p>"},{"location":"6_AI_Strategy/6_1_AI_Strategy/#track-a-the-architect-delegate-manager-mode","title":"Track A: The \"Architect &amp; Delegate\" (Manager Mode)","text":"<p>Use for: New features, Refactors, Database Schema changes.</p> <ol> <li>Open Agent Manager: Do not write this code yourself.</li> <li>Define the Spec: Prompt the agent with the \"What\" and the \"Why.\"<ul> <li>Example: \"Create a new entity for 'TournamentSeeding'. It needs to link to Users and Tournaments. Update the ERD first, then generate the migration and the API endpoint.\"</li> </ul> </li> <li>Review the Plan: Force the agent to output a Task List before writing code. Review this list for architectural flaws (e.g., circular dependencies).</li> <li>Parallel Execution: While the Agent implements the Backend logic, you (the human) can work on the Frontend design, or spawn a secondary Agent to generate the TypeScript types.</li> </ol>"},{"location":"6_AI_Strategy/6_1_AI_Strategy/#track-b-the-pair-programmer-editor-mode","title":"Track B: The \"Pair Programmer\" (Editor Mode)","text":"<p>Use for: UI tweaks, Bug fixes, CSS adjustments.</p> <ol> <li>Inline Edits: Use the inline command (<code>Cmd+K</code> equivalent) for immediate changes.<ul> <li>Example: \"Refactor this component to use Tailwind Grid instead of Flexbox.\"</li> </ul> </li> <li>Context Pinning: If the edit relies on a parent component, explicitly \"pin\" that file in the chat so the AI sees the prop drilling structure.</li> </ol>"},{"location":"6_AI_Strategy/6_1_AI_Strategy/#4-quality-assurance-verification","title":"4. Quality Assurance &amp; Verification","text":""},{"location":"6_AI_Strategy/6_1_AI_Strategy/#browser-verification-antigravity-exclusive","title":"Browser Verification (Antigravity Exclusive)","text":"<p>We utilize the IDE's headless browser capabilities to test \"Happy Paths.\"</p> <ul> <li>Prompt: \"Run the app. Log in as a 'Tournament Organizer'. Create a dummy tournament named 'Test Beach 2026'. Verify that the 'Create' button redirects to the Dashboard.\"</li> <li>Why: This catches integration bugs that unit tests often miss.</li> </ul>"},{"location":"6_AI_Strategy/6_1_AI_Strategy/#the-junior-dev-review-rule","title":"The \"Junior Dev\" Review Rule","text":"<p>Treat all AI-generated code as if it were written by a smart but inexperienced Junior Developer.</p> <ul> <li>Security Check: Always verify that the AI handled authorization (e.g., <code>if (!user.isAdmin) return 401</code>). AI often forgets permission checks.</li> <li>Type Safety: Verify that generated TypeScript interfaces match the actual API response structure.</li> </ul>"},{"location":"6_AI_Strategy/6_1_AI_Strategy/#5-prompting-standards-for-nns-session","title":"5. Prompting Standards for NNS Session","text":"<p>When prompting the AI, adhere to the following structure to ensure domain specificity:</p> <ol> <li>Role: \"You are a Senior Full Stack Engineer specializing in Next.js and Real-time Systems.\"</li> <li>Context: \"We are building 'NNS Session', a beach volleyball app.\"</li> <li>Constraint: \"Use our existing <code>utils/db.ts</code> connection. Do not introduce new libraries unless necessary.\"</li> <li>Task: [Specific Instruction]</li> </ol> <p>Example Prompt:</p> <p>\"Context: NNS Session. We need to calculate player rankings. Reference the 'ELO Rating System' logic but adapt it for 2v2 beach volleyball. Input: A match result (Team A vs Team B). Output: A function that updates the <code>User</code> table with new ranking points. Note: Winners gain points, Losers lose points. Weigh the points based on the opponent's rank.\"</p>"},{"location":"6_AI_Strategy/6_1_AI_Strategy/#6-future-proofing","title":"6. Future-Proofing","text":"<ul> <li>Documentation-First: Before asking the AI to code a complex feature, ask it to write the documentation for it. If the documentation makes sense, the code will likely follow suit.</li> <li>Snapshotting: Periodically ask the AI to \"Summarize the current state of the architecture\" and save that as a <code>.md</code> file. This helps re-orient the AI if the chat context gets stale.</li> </ul>"}]}